/*! MIT License

Copyright (c) 2025 Alexandre Ribeiro

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
 */
var AstronomySVG=function(z){"use strict";var sa=Object.defineProperty;var ia=(z,k,h)=>k in z?sa(z,k,{enumerable:!0,configurable:!0,writable:!0,value:h}):z[k]=h;var gn=(z,k,h)=>ia(z,typeof k!="symbol"?k+"":k,h);const k={SOLAR_SYSTEM_OBJECT:"SOLAR_SYSTEM_OBJECT",GREENWICH_OBSERVATORY_COORDINATES:{LATITUDE:51.476852,LONGITUDE:-5e-4,RADIUS:6371046},EPHEMERIS_TYPE:{RISE:{NAME:"RISE",ALTITUDE:"-0.833",IS_GOING_UP:!0},SET:{NAME:"SET",ALTITUDE:"-0.833",IS_GOING_UP:!1},TRANSIT:{NAME:"TRANSIT",ALTITUDE:null,IS_GOING_UP:null},CIVIL_TWILIGHT_START:{NAME:"CIVIL_TWILIGHT_START",ALTITUDE:"-6",IS_GOING_UP:!0},CIVIL_TWILIGHT_END:{NAME:"CIVIL_TWILIGHT_END",ALTITUDE:"-6",IS_GOING_UP:!1},NAUTICAL_TWILIGHT_START:{NAME:"NAUTICAL_TWILIGHT_START",ALTITUDE:"-12",IS_GOING_UP:!0},NAUTICAL_TWILIGHT_END:{NAME:"NAUTICAL_TWILIGHT_END",ALTITUDE:"-12",IS_GOING_UP:!1},ASTRONOMICAL_TWILIGHT_START:{NAME:"ASTRONOMICAL_TWILIGHT_START",ALTITUDE:"-18",IS_GOING_UP:!0},ASTRONOMICAL_TWILIGHT_END:{NAME:"ASTRONOMICAL_TWILIGHT_END",ALTITUDE:"-18",IS_GOING_UP:!1}},MS_PER_DAY:864e5,JULIAN_DAY_OFFSET:24405875e-1,JULIAN_DAY_2000:2451545,EPS:Math.pow(10,-9),NUMBERS_OF_ATTEMPT_TO_GET_POSITIONAL_EPHEMERIS:5,DAYS_PER_JULIAN_CENTURY:36525};class h{static modDegrees(e){for(;e<0;)e=e+360;return e%360}static mod180Degrees(e){const t=this.modDegrees(e);return t>180?t-360:t}static modRadians(e){for(;e<0;)e=e+2*Math.PI;return e%(2*Math.PI)}static modPiRadians(e){const t=this.modRadians(e);return e>Math.PI?t-2*Math.PI:t}static radiansToDegrees(e){return e*180/Math.PI}static degreesToRadians(e){return e*Math.PI/180}static padZero(e){return e=e.toString(),e.length>=2?e:"0"+e}}class H{static julianDate(e){return e/k.MS_PER_DAY+k.JULIAN_DAY_OFFSET}static julianDateToDate(e){return new Date((e-k.JULIAN_DAY_OFFSET)*k.MS_PER_DAY)}static julianDaysSinceEpoch2000(e){return e-k.JULIAN_DAY_2000}static julianCenturiesSinceEpoch2000(e){return this.julianDaysSinceEpoch2000(e)/k.DAYS_PER_JULIAN_CENTURY}static meanSiderealTime(e){const t=this.julianDaysSinceEpoch2000(e),n=this.julianCenturiesSinceEpoch2000(e),s=280.46061837+360.98564736629*t+387933e-9*n*n-n*n*n/3871e4;return h.modDegrees(s)}}class Oe{constructor(e,t,n){this.x=e,this.y=t,this.z=n}minus(e){return new Oe(this.x-e.x,this.y-e.y,this.z-e.z)}}class j{constructor(e,t,n){this.latitude=e,this.longitude=t,this.radius=n}toDegrees(){let e=this.latitude,t=this.longitude;return new j(`${e<0?"-":""}${h.padZero(0|(e<0?e=-e:e))}° ${h.padZero(0|e%1*60)}' ${h.padZero(0|e*60%1*60)}''`,`${t<0?"-":""}${h.padZero(0|(t<0?t=-t:t))}° ${h.padZero(0|t%1*60)}' ${h.padZero(0|t*60%1*60)}''`,this.radius)}toHours(){let e=this.latitude,t=this.longitude;return new j(`${e<0?"-":""}${h.padZero(0|(e<0?e=-e:e))}° ${h.padZero(0|e%1*60)}' ${h.padZero(0|e*60%1*60)}''`,`${t<0?"-":""}${h.padZero(0|(t<0?t=-t/15:t=t/15))}h ${h.padZero(0|t%1*60)}m ${h.padZero(0|t*60%1*60)}s`,this.radius)}}class At{constructor(e,t){this.sphericalCoordinates=e||new j(k.GREENWICH_OBSERVATORY_COORDINATES.LATITUDE,k.GREENWICH_OBSERVATORY_COORDINATES.LONGITUDE,k.GREENWICH_OBSERVATORY_COORDINATES.RADIUS),this.solarSystemObject=t}getRectangularObjectCentricCoordinatesForSolarSystemObject(e,t){return e.getRectangularHeliocentricCoordinates(t).minus(this.solarSystemObject.getRectangularHeliocentricCoordinates(t))}getRectangularEquatorialCoordinatesForSolarSystemObject(e,t){const n=this.getRectangularObjectCentricCoordinatesForSolarSystemObject(e,t),s=h.degreesToRadians(this.solarSystemObject.axialTilt);return new Oe(n.x,n.y*Math.cos(s)-n.z*Math.sin(s),n.y*Math.sin(s)+n.z*Math.cos(s))}getDistanceToSolarSystemObject(e,t){const n=this.getRectangularObjectCentricCoordinatesForSolarSystemObject(e,t);return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2)+Math.pow(n.z,2))}getRADecCoordinatesForSolarSystemObject(e,t){const n=this.getRectangularEquatorialCoordinatesForSolarSystemObject(e,t),s=n.x>0&&n.y<0?360:n.x<0?180:0,i=h.radiansToDegrees(Math.atan(n.y/n.x))+s,a=h.radiansToDegrees(Math.atan(n.z/Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))));return new j(a,i,this.getDistanceToSolarSystemObject(e,t))}getHADecCoordinatesForSolarSystemObject(e,t){const n=this.getRectangularEquatorialCoordinatesForSolarSystemObject(e,t),s=n.x>0&&n.y<0?360:n.x<0?180:0,i=h.radiansToDegrees(Math.atan(n.y/n.x))+s,a=h.modDegrees(this.getLocalSiderealTime(t)-i),o=h.radiansToDegrees(Math.atan(n.z/Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))));return new j(o,a,this.getDistanceToSolarSystemObject(e,t))}getAltAzCoordinatesForEquatorialCoordinates(e,t){const n=h.degreesToRadians(h.modDegrees(e.longitude-this.getLocalSiderealTime(t))),s=h.degreesToRadians(this.sphericalCoordinates.latitude),i=h.degreesToRadians(e.latitude),a=h.radiansToDegrees(Math.asin(Math.sin(s)*Math.sin(i)+Math.cos(s)*Math.cos(i)*Math.cos(n))),o=h.radiansToDegrees(Math.PI-Math.atan2(Math.sin(n),Math.cos(n)*Math.sin(s)-Math.tan(i)*Math.cos(s)));return new j(a,o,null)}getLocalSiderealTime(e){return h.modDegrees(H.meanSiderealTime(e)+this.sphericalCoordinates.longitude)}getObjectTransit(e,t){const n=this.getRADecCoordinatesForSolarSystemObject(e,t).longitude;return this.getLocalSiderealTime(t)-n}getObjectLocalHourAngleForAltitude(e,t,n){const s=h.degreesToRadians(this.sphericalCoordinates.latitude),i=h.degreesToRadians(n),a=h.degreesToRadians(this.getRADecCoordinatesForSolarSystemObject(e,t).latitude),o=(Math.sin(i)-Math.sin(s)*Math.sin(a))/(Math.cos(s)*Math.cos(a));return h.radiansToDegrees(Math.acos(o))}getIterationValueForPositionalEphemerisForObject(e,t,n){if(n===k.EPHEMERIS_TYPE.TRANSIT)return t-this.getObjectTransit(e,t)/15/24;{const s=this.getObjectTransit(e,t),i=this.getObjectLocalHourAngleForAltitude(e,t,n.ALTITUDE),a=h.mod180Degrees(n.IS_GOING_UP?s+i:s-i);return t-a/15/24}}iteratePositionalEphemerisForObject(e,t,n){let s=this.getIterationValueForPositionalEphemerisForObject(e,t,n),i=+s;for(let a=0;a<1e3&&(s=this.getIterationValueForPositionalEphemerisForObject(e,s,n),!(Math.abs(s-i)<10^-5));a++)i=s;return H.julianDateToDate(s)}getCorrectDateForPositionalEphemeris(e,t,n,s){const i=this.iteratePositionalEphemerisForObject(e,t,n);if(s>0&&i.getDate()!==H.julianDateToDate(t).getDate()){const a=H.julianDate(i),o=a>t?-1:1;return this.getCorrectDateForPositionalEphemeris(e,a+o,n,s-1)}else return s===0?null:i}getDateForPositionalEphemeris(e,t,n){return this.getCorrectDateForPositionalEphemeris(e,t,n,k.NUMBERS_OF_ATTEMPT_TO_GET_POSITIONAL_EPHEMERIS)}}class pn{constructor(e,t){this.objectType=e,this.name=t}}class U extends pn{constructor(e,t,n,s){super(k.SOLAR_SYSTEM_OBJECT,e),this.orbitalParameters=t,this.meanRadius=n,this.axialTilt=s}getRectangularHeliocentricCoordinates(e){const t=H.julianCenturiesSinceEpoch2000(e),n=h.degreesToRadians(this.orbitalParameters.getInclination(t)),s=h.degreesToRadians(this.orbitalParameters.getTrueAnomaly(t)),i=h.degreesToRadians(this.orbitalParameters.getPerihelion(t)),a=h.degreesToRadians(this.orbitalParameters.getAscendingNode(t)),o=this.orbitalParameters.getOrbitRadius(t),l=s+i-a,u=o*(Math.cos(a)*Math.cos(l)-Math.sin(a)*Math.sin(l)*Math.cos(n)),c=o*(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(n)),m=o*(Math.sin(l)*Math.sin(n));return new Oe(u,c,m)}}class P{constructor(e,t,n,s,i,a,o,l,u,c,m,w){this.a0=e,this.e0=t,this.i0=n,this.o0=s,this.w0=i,this.l0=a,this.ac=o,this.ec=l,this.ic=u,this.oc=c,this.wc=m,this.lc=w}getSemiMajorAxis(e){return this.a0+this.ac*e}getEccentricity(e){return this.e0+this.ec*e}getInclination(e){return h.modDegrees(this.i0+this.ic/3600*e)}getAscendingNode(e){return h.modDegrees(this.o0+this.oc/3600*e)}getPerihelion(e){return h.modDegrees(this.w0+this.wc/3600*e)}getMeanLongitude(e){return h.modDegrees(this.l0+this.lc/3600*e)}getMeanAnomaly(e){return h.modDegrees(this.getMeanLongitude(e)-this.getPerihelion(e))}getEccentricAnomaly(e){const t=h.degreesToRadians(this.getMeanAnomaly(e)),n=this.getEccentricity(e);let s=t+n*Math.sin(t)*(1+n*Math.cos(t)),i=0,a=0,o=0;for(;o++<1e4&&(i=s-(s-n*Math.sin(s)-t)/(1-n*Math.cos(s)),a=i-s,s=i,!(Math.abs(a)<=k.EPS)););return h.radiansToDegrees(i)}getTrueAnomaly(e){const t=this.getEccentricity(e),n=h.degreesToRadians(this.getEccentricAnomaly(e)),s=2*Math.atan(Math.sqrt((1+t)/(1-t))*Math.tan(.5*n));return h.radiansToDegrees(s)}getOrbitRadius(e){const t=this.getSemiMajorAxis(e),n=this.getEccentricity(e),s=this.getTrueAnomaly(e);return t*(1-Math.pow(n,2))/(1+n*Math.cos(h.degreesToRadians(s)))}}class wn extends U{constructor(){const e=new P(.38709893,.20563069,7.00487,48.33167,77.45645,252.25084,66e-8,2527e-8,-23.51,-446.3,573.57,53810162829e-2);super("Mercury",e,2439700,2.04)}}class Tn extends U{constructor(){const e=new P(.72333199,.00677323,3.39471,76.68069,131.53298,181.97973,92e-8,-4938e-8,-2.86,-996.89,-108.8,21066413606e-2);super("Venus",e,6051800,2.64)}}class Sn extends U{constructor(){const e=new P(1.00000011,.01671022,5e-5,-11.26064,102.94719,100.46435,-5e-8,-3804e-8,-46.94,-18228.25,1198.28,12959774063e-2);super("Earth",e,6371e3,23.439281)}}class On extends U{constructor(){const e=new P(1.52366231,.09341233,1.85061,49.57854,336.04084,355.45332,-7221e-8,11902e-8,-25.47,-1020.19,1560.78,6890510378e-2);super("Mars",e,3389500,25.19)}}class kn extends U{constructor(){const e=new P(5.20336301,.04839266,1.3053,100.55615,14.75385,34.40438,60737e-8,-1288e-7,-4.15,1217.17,839.93,1092507835e-2);super("Jupiter",e,69911e3,3.13)}}class bn extends U{constructor(){const e=new P(9.53707032,.0541506,2.48446,113.71504,92.43194,49.94432,-.0030153,-36762e-8,6.11,-1591.05,-1948.89,440105295e-2);super("Saturn",e,58232e3,26.73)}}class xn extends U{constructor(){const e=new P(19.19126393,.04716771,.76986,74.22988,170.96424,313.23218,.00152025,-1915e-7,-2.09,-1681.4,1312.56,154254779e-2);super("Uranus",e,25362e3,97.77)}}class En extends U{constructor(){const e=new P(30.06896348,.00858587,1.76917,131.72169,44.97135,304.88003,-.00125196,251e-7,-3.64,-151.25,-844.43,786449.21);super("Neptune",e,24622e3,28.32)}}const Mn=[new wn,new Tn,new Sn,new On,new kn,new bn,new xn,new En];class In extends U{constructor(){const e=new P(39.48168677,.24880766,17.14175,110.30347,113.76329,238.92881,-207e-10,6465e-8,501e-8,-37.033,7.765,145.2078);super("Pluto",e,1188300,122.53)}}const Dn=[new In];class Nn extends U{constructor(){super("Sun",null,695508e3)}getRectangularHeliocentricCoordinates(e){return new Oe(0,0,0)}}const vn=[new Nn].concat(Mn).concat(Dn);class Ke{constructor(){this.skyObjects=[...vn],this.astronomicalCalculator=new At,this.julianDate=null,this.date=null}getJulianDate(){return this.julianDate}setJulianDate(e){this.julianDate=e}getDate(){return this.date}setDate(e){this.date=e,this.setJulianDate(H.julianDate(e))}getSkyObjectByName(e){return this.skyObjects.find(t=>t.name===e)||null}getEphemerisTypeByName(e){return Object.values(k.EPHEMERIS_TYPE).find(t=>t.NAME===e)||null}setLocation(e,t,n,s){const i=this.getSkyObjectByName(e);if(!i)throw new Error(`Solar system object "${e}" not found`);this.astronomicalCalculator=new At(new j(t,n,i.meanRadius+s),i)}getLatitudeLongitudeCoordinates(){return{latitude:this.astronomicalCalculator.sphericalCoordinates.latitude,longitude:this.astronomicalCalculator.sphericalCoordinates.longitude}}getRADecCoordinatesForObject(e){const t=this.getSkyObjectByName(e);if(!t||this.julianDate===null)throw new Error("Invalid object name or Julian date not set");return this.astronomicalCalculator.getRADecCoordinatesForSolarSystemObject(t,this.julianDate)}getHADecCoordinatesForObject(e){const t=this.getSkyObjectByName(e);if(!t||this.julianDate===null)throw new Error("Invalid object name or Julian date not set");return this.astronomicalCalculator.getHADecCoordinatesForSolarSystemObject(t,this.julianDate)}getAltAzCoordinatesForObject(e,t){const n=this.getSkyObjectByName(e);if(!n)throw new Error(`Object "${e}" not found`);const s=t?H.julianDate(t):this.julianDate;if(s===null)throw new Error("Reference date not set");const i=this.astronomicalCalculator.getRADecCoordinatesForSolarSystemObject(n,s);return this.astronomicalCalculator.getAltAzCoordinatesForEquatorialCoordinates(i,s)}static initialize(e,t){let n=new Ke;return n.setLocation("Earth",e,t,0),n.setDate(new Date),n}getEphemerisDateForObject(e,t,n){const s=this.getSkyObjectByName(e),i=this.getEphemerisTypeByName(n);if(!s||!i)throw new Error("Invalid object name or ephemeris type");return this.astronomicalCalculator.getDateForPositionalEphemeris(s,H.julianDate(t),i)}}function Y(r,e){return`<svg viewBox="0 0 1000 1000" width="${r}" height="${r}"
        xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="${e}" />`}function Cn(r,e){return`<svg viewBox="0 0 2000 1000" width="${r}" height="${r/2}"
        xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="${e}" />`}function q(){return"</svg>"}function Z(r,e){let t=e?Pn():"";return r==="Sun"?t+=An():r==="Mercury"?t+=Fn():r==="Venus"?t+=$n():r==="Mars"?t+=Ln():r==="Jupiter"?t+=Vn():r==="Saturn"?t+=Rn():r==="Uranus"?t+=Wn():r==="Neptune"?t+=zn():r==="Pluto"&&(t+=Un()),t+=e?Zn():"",t}function An(){return`
        <!-- Sun body -->
        <circle cx="500" cy="278" r="139" fill="#f4a300" />
        <!-- Sun rays -->
        <g stroke="#e69500" stroke-width="21" stroke-linecap="round">
            <line x1="500" y1="111" x2="500" y2="69" />
            <line x1="500" y1="445" x2="500" y2="486" />
            <line x1="333" y1="278" x2="292" y2="278" />
            <line x1="667" y1="278" x2="708" y2="278" />
            <line x1="403" y1="181" x2="375" y2="153" />
            <line x1="597" y1="181" x2="625" y2="153" />
            <line x1="403" y1="375" x2="375" y2="403" />
            <line x1="597" y1="375" x2="625" y2="403" />
        </g>`}function Fn(){return`
    <!-- Mercury base -->
    <circle cx="500" cy="278" r="139" fill="#b0a59f" />

    <!-- Craters across surface, including near edges -->
    <circle cx="470" cy="230" r="14" fill="#72655f" opacity="0.70" />
    <circle cx="530" cy="250" r="12" fill="#5e524e" opacity="0.75" />
    <circle cx="490" cy="305" r="11" fill="#6a5c58" opacity="0.68" />
    <circle cx="455" cy="275" r="10" fill="#4f4541" opacity="0.65" />
    <circle cx="520" cy="325" r="9" fill="#6c615c" opacity="0.70" />
    <circle cx="540" cy="215" r="13" fill="#645954" opacity="0.72" />

    <!-- Near-edge craters -->
    <circle cx="390" cy="278" r="8" fill="#72655f" opacity="0.70" />
    <circle cx="610" cy="278" r="9" fill="#5e524e" opacity="0.73" />
    <circle cx="500" cy="139" r="10" fill="#6c615c" opacity="0.68" />
    <circle cx="500" cy="417" r="11" fill="#4f4541" opacity="0.70" />
    <circle cx="410" cy="185" r="8" fill="#6a5c58" opacity="0.67" />
    <circle cx="590" cy="365" r="9" fill="#645954" opacity="0.72" />
  `}function $n(){return`
    <!-- Venus base -->
    <circle cx="500" cy="278" r="139" fill="#e5c07b" />

    <!-- Thicker cloud bands -->
    <ellipse cx="500" cy="240" rx="139" ry="18" fill="#d4b06a" opacity="0.35" />
    <ellipse cx="500" cy="278" rx="139" ry="20" fill="#c8a158" opacity="0.3" />
    <ellipse cx="500" cy="315" rx="139" ry="16" fill="#b89249" opacity="0.25" />

    <!-- Swirl features -->
    <circle cx="470" cy="250" r="20" fill="#b88e3b" opacity="0.3" />

    <!-- Polar glow (top and bottom) -->
    <ellipse cx="500" cy="160" rx="60" ry="20" fill="white" opacity="0.4" />
    <ellipse cx="500" cy="400" rx="60" ry="20" fill="white" opacity="0.4" />
  `}function Ln(){return`<circle cx="500" cy="278" r="139" fill="#d2691e" />
          <!-- Ice cap (ellipse) -->
          <ellipse cx="500" cy="167" rx="42" ry="21" fill="white" opacity="0.9" />
          <!-- Surface features -->
          <circle cx="458" cy="236" r="21" fill="#a0522d" />
          <circle cx="542" cy="319" r="17.35" fill="#a0522d" />
          <circle cx="514" cy="250" r="13.9" fill="#cd853f" />
          <circle cx="472" cy="306" r="10.4" fill="#cd853f" />`}function Vn(){return`
    <!-- Jupiter base -->
    <circle cx="500" cy="278" r="139" fill="#d2b48c" />

    <!-- Symmetrical medium bands -->
    <ellipse cx="500" cy="248" rx="139" ry="12" fill="#c89b76" opacity="0.85" />
    <ellipse cx="500" cy="278" rx="139" ry="10" fill="#ba8c6e" opacity="0.85" />
    <ellipse cx="500" cy="308" rx="139" ry="12" fill="#c89b76" opacity="0.85" />

    <!-- Great Red Spot -->
    <ellipse cx="570" cy="305" rx="20" ry="12" fill="#cc543a" />
    
    <ellipse cx="500" cy="170" rx="60" ry="30" fill="#ba8c6e" opacity="0.7" />
  `}function Rn(){return`
    <!-- Rings behind -->
    <g transform="rotate(-25 500 278)">
      <ellipse cx="500" cy="278" rx="220" ry="50" fill="none" stroke="#e6e6e6" stroke-width="20" opacity="0.5" />
      <ellipse cx="500" cy="278" rx="250" ry="55" fill="none" stroke="#f2f2f2" stroke-width="12" opacity="0.4" />
    </g>

    <!-- Saturn base (on top of back rings) -->
    <circle cx="500" cy="278" r="139" fill="#d8c48f" />

    <!-- Atmospheric bands -->
    <ellipse cx="500" cy="260" rx="139" ry="12" fill="#c9b87e" opacity="0.5" />
    <ellipse cx="500" cy="278" rx="139" ry="14" fill="#bcae6f" opacity="0.5" />
    <ellipse cx="500" cy="296" rx="139" ry="12" fill="#b1a460" opacity="0.45" />

    <!-- Polar glow -->
    <ellipse cx="500" cy="139" rx="60" ry="20" fill="white" opacity="0.15" />
    <ellipse cx="500" cy="417" rx="60" ry="20" fill="white" opacity="0.15" />

    <!-- Rings front -->
    <g transform="rotate(-25 500 278)">
      <ellipse cx="500" cy="278" rx="220" ry="50" fill="none" stroke="#f5f5f5" stroke-width="14" opacity="0.7" />
      <ellipse cx="500" cy="278" rx="250" ry="55" fill="none" stroke="#ffffff" stroke-width="8" opacity="0.5" />
    </g>
  `}function Wn(){return`
    <!-- Uranus base -->
    <circle cx="500" cy="278" r="139" fill="#7fdbff" />

    <!-- Atmospheric subtle bands -->
    <ellipse cx="500" cy="260" rx="139" ry="12" fill="#6ec8e9" opacity="0.4" />
    <ellipse cx="500" cy="278" rx="139" ry="14" fill="#62b4d8" opacity="0.4" />
    <ellipse cx="500" cy="296" rx="139" ry="12" fill="#5aa2c6" opacity="0.35" />

    <!-- Polar glow -->
    <ellipse cx="500" cy="139" rx="60" ry="20" fill="white" opacity="0.12" />
    <ellipse cx="500" cy="417" rx="60" ry="20" fill="white" opacity="0.12" />

    <!-- Small swirl / cloud feature -->
    <circle cx="460" cy="290" r="20" fill="#54a3b9" opacity="0.5" />
    <circle cx="540" cy="260" r="17" fill="#6dc3e3" opacity="0.45" />
  `}function zn(){return`
    <!-- Neptune base -->
    <circle cx="500" cy="278" r="139" fill="#3b5ca8" />

    <!-- Atmospheric subtle bands -->
    <ellipse cx="500" cy="260" rx="139" ry="12" fill="#345292" opacity="0.45" />
    <ellipse cx="500" cy="278" rx="139" ry="14" fill="#2f4b7f" opacity="0.45" />
    <ellipse cx="500" cy="296" rx="139" ry="12" fill="#2a456f" opacity="0.4" />

    <!-- Polar glow -->
    <ellipse cx="500" cy="139" rx="60" ry="20" fill="white" opacity="0.1" />
    <ellipse cx="500" cy="417" rx="60" ry="20" fill="white" opacity="0.1" />

    <!-- Cloud spots -->
    <circle cx="460" cy="290" r="25" fill="#4064c7" opacity="0.6" />
    <circle cx="530" cy="250" r="20" fill="#4a71d2" opacity="0.55" />
    <circle cx="520" cy="320" r="15" fill="#3a56a0" opacity="0.5" />
  `}function Un(){return`
    <!-- Pluto base -->
    <circle cx="500" cy="278" r="139" fill="#c2b29e" />

    <!-- Surface patches -->
    <circle cx="460" cy="290" r="25" fill="#a89987" opacity="0.7" />
    <circle cx="540" cy="260" r="20" fill="#bfb7a8" opacity="0.65" />
    <circle cx="520" cy="320" r="15" fill="#9f8f7d" opacity="0.6" />
    <circle cx="480" cy="310" r="10" fill="#b0a596" opacity="0.6" />

    <!-- Icy heart -->
    <path
      d="
        M 500 300
        C 500 250, 440 250, 440 300
        C 440 350, 500 370, 500 400
        C 500 370, 560 350, 560 300
        C 560 250, 500 250, 500 300
        Z
      "
      fill="#e9e6e1"
      opacity="0.9"
    />

    <!-- Slight shadow for depth -->
    <ellipse cx="470" cy="320" rx="100" ry="50" fill="black" opacity="0.1" />
  `}function Pn(){return`<defs>
    <filter id="grayscale">
        <feColorMatrix type="saturate" values="0" />
    </filter>
    </defs>
    <g filter="url(#grayscale)">`}function Zn(){return"</g>"}function _n(r){const e=["N","NE","E","SE","S","SW","W","NW"],t=(r%360+360)%360,n=Math.floor((t+22.5)/45)%8;return e[n]}function Ft(r,e){return`${r.toFixed(1)} ${r>e?"▲":r<e?"▼":""}`}function $t(r){return`${r.toFixed(1)} ${_n(r)}`}function re(r){return`<text x="500" y="660" font-size="139" text-anchor="middle"
              fill="white" font-family="Verdana" dominant-baseline="middle">
        ${r}
        </text>`}function ne(r){return`<text x="500" y="833" font-size="139" text-anchor="middle"
                fill="white" font-family="Verdana" dominant-baseline="middle">
          ${r}
          </text>`}function Gn(r,e,t){let s=r.astronomyJS.getAltAzCoordinatesForObject(e).longitude,i=Y(t,"black");return i+=Z(e),i+=re("Azimuth"),i+=ne($t(s)),i+=q(),i}function Hn(r,e,t){let n=r.astronomyJS,s=n.getAltAzCoordinatesForObject(e).latitude,i=n.getAltAzCoordinatesForObject(e,new Date(n.getDate()-5*60*1e3)).latitude,a=Y(t,"black");return a+=Z(e),a+=re("Altitude"),a+=ne(Ft(s,i)),a+=q(),a}function Lt(r){const e=parseInt(r.slice(1),16);return{r:e>>16&255,g:e>>8&255,b:e&255}}function jn({r,g:e,b:t}){return"#"+[r,e,t].map(n=>n.toString(16).padStart(2,"0")).join("")}function Xe(r,e,t){return r+(e-r)*t}function $e(r,e,t){return(t-r)/(e-r)}function Le(r,e,t){const n=Lt(r),s=Lt(e);return jn({r:Math.round(Xe(n.r,s.r,t)),g:Math.round(Xe(n.g,s.g,t)),b:Math.round(Xe(n.b,s.b,t))})}function et(r){const e=Yn(r),t=Vt(r),n=$e(e.limit,t.limit,r),s=Le(e.top,t.top,n),i=Le(e.bottom,t.bottom,n);return`<defs>
            <linearGradient id="sky-${r}" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="${s}" />
                <stop offset="55%" stop-color="${s}" />
                <stop offset="100%" stop-color="${i}" />
            </linearGradient></defs>`}function Vt(r){return r<=-18?{top:"#0b0c1a",bottom:"#0b0c1a",limit:-18}:r<=-15?{top:"#0b0c1a",bottom:"#101734",limit:-15}:r<=-12?{top:"#171c27",bottom:"#282e3c",limit:-12}:r<=-9?{top:"#171c29",bottom:"#525662",limit:-9}:r<=-6?{top:"#4e545f",bottom:"#b9a76c",limit:-6}:r<=-3?{top:"#909798",bottom:"#f9d92b",limit:-3}:r<=0?{top:"#b6d8ed",bottom:"#f6da3f",limit:0}:r<=10?{top:"#bcd6fc",bottom:"#98d5fc",limit:10}:{top:"#cce8fd",bottom:"#98d5fc",limit:90}}function Yn(r){return r<=-18?{top:"#0b0c1a",bottom:"#0b0c1a",limit:-90}:r<=-15?{top:"#0b0c1a",bottom:"#0b0c1a",limit:-18}:r<=-12?{top:"#0b0c1a",bottom:"#101734",limit:-15}:r<=-9?{top:"#171c27",bottom:"#282e3c",limit:-12}:r<=-6?{top:"#171c29",bottom:"#525662",limit:-9}:r<=-3?{top:"#4e545f",bottom:"#b9a76c",limit:-6}:r<=0?{top:"#909798",bottom:"#f9d92b",limit:-3}:r<=10?{top:"#b6d8ed",bottom:"#f6da3f",limit:0}:{top:"#bcd6fc",bottom:"#98d5fc",limit:10}}class se extends Error{}class qn extends se{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Jn extends se{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Bn extends se{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ue extends se{}class Rt extends se{constructor(e){super(`Invalid unit ${e}`)}}class M extends se{}class J extends se{constructor(){super("Zone is an abstract class")}}const f="numeric",L="short",v="long",Ve={year:f,month:f,day:f},Wt={year:f,month:L,day:f},Qn={year:f,month:L,day:f,weekday:L},zt={year:f,month:v,day:f},Ut={year:f,month:v,day:f,weekday:v},Pt={hour:f,minute:f},Zt={hour:f,minute:f,second:f},_t={hour:f,minute:f,second:f,timeZoneName:L},Gt={hour:f,minute:f,second:f,timeZoneName:v},Ht={hour:f,minute:f,hourCycle:"h23"},jt={hour:f,minute:f,second:f,hourCycle:"h23"},Yt={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:L},qt={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:v},Jt={year:f,month:f,day:f,hour:f,minute:f},Bt={year:f,month:f,day:f,hour:f,minute:f,second:f},Qt={year:f,month:L,day:f,hour:f,minute:f},Kt={year:f,month:L,day:f,hour:f,minute:f,second:f},Kn={year:f,month:L,day:f,weekday:L,hour:f,minute:f},Xt={year:f,month:v,day:f,hour:f,minute:f,timeZoneName:L},er={year:f,month:v,day:f,hour:f,minute:f,second:f,timeZoneName:L},tr={year:f,month:v,day:f,weekday:v,hour:f,minute:f,timeZoneName:v},rr={year:f,month:v,day:f,weekday:v,hour:f,minute:f,second:f,timeZoneName:v};class ke{get type(){throw new J}get name(){throw new J}get ianaName(){return this.name}get isUniversal(){throw new J}offsetName(e,t){throw new J}formatOffset(e,t){throw new J}offset(e){throw new J}equals(e){throw new J}get isValid(){throw new J}}let tt=null;class Re extends ke{static get instance(){return tt===null&&(tt=new Re),tt}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Dr(e,t,n)}formatOffset(e,t){return Me(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const rt=new Map;function Xn(r){let e=rt.get(r);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),rt.set(r,e)),e}const es={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ts(r,e){const t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,s,i,a,o,l,u,c]=n;return[a,s,i,o,l,u,c]}function rs(r,e){const t=r.formatToParts(e),n=[];for(let s=0;s<t.length;s++){const{type:i,value:a}=t[s],o=es[i];i==="era"?n[o]=a:y(o)||(n[o]=parseInt(a,10))}return n}const nt=new Map;class _ extends ke{static create(e){let t=nt.get(e);return t===void 0&&nt.set(e,t=new _(e)),t}static resetCache(){nt.clear(),rt.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=_.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Dr(e,t,n,this.name)}formatOffset(e,t){return Me(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const n=Xn(this.name);let[s,i,a,o,l,u,c]=n.formatToParts?rs(n,t):ts(n,t);o==="BC"&&(s=-Math.abs(s)+1);const w=Ze({year:s,month:i,day:a,hour:l===24?0:l,minute:u,second:c,millisecond:0});let d=+t;const O=d%1e3;return d-=O>=0?O:1e3+O,(w-d)/6e4}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let nr={};function ns(r,e={}){const t=JSON.stringify([r,e]);let n=nr[t];return n||(n=new Intl.ListFormat(r,e),nr[t]=n),n}const st=new Map;function it(r,e={}){const t=JSON.stringify([r,e]);let n=st.get(t);return n===void 0&&(n=new Intl.DateTimeFormat(r,e),st.set(t,n)),n}const at=new Map;function ss(r,e={}){const t=JSON.stringify([r,e]);let n=at.get(t);return n===void 0&&(n=new Intl.NumberFormat(r,e),at.set(t,n)),n}const ot=new Map;function is(r,e={}){const{base:t,...n}=e,s=JSON.stringify([r,n]);let i=ot.get(s);return i===void 0&&(i=new Intl.RelativeTimeFormat(r,e),ot.set(s,i)),i}let be=null;function as(){return be||(be=new Intl.DateTimeFormat().resolvedOptions().locale,be)}const lt=new Map;function sr(r){let e=lt.get(r);return e===void 0&&(e=new Intl.DateTimeFormat(r).resolvedOptions(),lt.set(r,e)),e}const ut=new Map;function os(r){let e=ut.get(r);if(!e){const t=new Intl.Locale(r);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...ir,...e}),ut.set(r,e)}return e}function ls(r){const e=r.indexOf("-x-");e!==-1&&(r=r.substring(0,e));const t=r.indexOf("-u-");if(t===-1)return[r];{let n,s;try{n=it(r).resolvedOptions(),s=r}catch{const l=r.substring(0,t);n=it(l).resolvedOptions(),s=l}const{numberingSystem:i,calendar:a}=n;return[s,i,a]}}function us(r,e,t){return(t||e)&&(r.includes("-u-")||(r+="-u"),t&&(r+=`-ca-${t}`),e&&(r+=`-nu-${e}`)),r}function cs(r){const e=[];for(let t=1;t<=12;t++){const n=g.utc(2009,t,1);e.push(r(n))}return e}function fs(r){const e=[];for(let t=1;t<=7;t++){const n=g.utc(2016,11,13+t);e.push(r(n))}return e}function We(r,e,t,n){const s=r.listingMode();return s==="error"?null:s==="en"?t(e):n(e)}function ds(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||sr(r.locale).numberingSystem==="latn"}class hs{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:i,...a}=n;if(!t||Object.keys(a).length>0){const o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=ss(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):wt(e,3);return E(t,this.padTo)}}}class ms{constructor(e,t,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&_.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||s,this.dtf=it(t,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:n}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class ys{constructor(e,t,n){this.opts={style:"long",...n},!t&&xr()&&(this.rtf=is(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):Rs(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const ir={firstDay:1,minimalDays:4,weekend:[6,7]};class S{static fromOpts(e){return S.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,s,i=!1){const a=e||b.defaultLocale,o=a||(i?"en-US":as()),l=t||b.defaultNumberingSystem,u=n||b.defaultOutputCalendar,c=gt(s)||b.defaultWeekSettings;return new S(o,l,u,c,a)}static resetCache(){be=null,st.clear(),at.clear(),ot.clear(),lt.clear(),ut.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:s}={}){return S.create(e,t,n,s)}constructor(e,t,n,s,i){const[a,o,l]=ls(e);this.locale=a,this.numberingSystem=t||o||null,this.outputCalendar=n||l||null,this.weekSettings=s,this.intl=us(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ds(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:S.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,gt(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return We(this,e,Cr,()=>{const n=t?{month:e,day:"numeric"}:{month:e},s=t?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=cs(i=>this.extract(i,n,"month"))),this.monthsCache[s][e]})}weekdays(e,t=!1){return We(this,e,$r,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=t?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=fs(i=>this.extract(i,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return We(this,void 0,()=>Lr,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[g.utc(2016,11,13,9),g.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return We(this,e,Vr,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[g.utc(-40,1,1),g.utc(2017,1,1)].map(n=>this.extract(n,t,"era"))),this.eraCache[e]})}extract(e,t,n){const s=this.dtFormatter(e,t),i=s.formatToParts(),a=i.find(o=>o.type.toLowerCase()===n);return a?a.value:null}numberFormatter(e={}){return new hs(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new ms(e,this.intl,t)}relFormatter(e={}){return new ys(this.intl,this.isEnglish(),e)}listFormatter(e={}){return ns(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||sr(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Er()?os(this.locale):ir}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let ct=null;class D extends ke{static get utcInstance(){return ct===null&&(ct=new D(0)),ct}static instance(e){return e===0?D.utcInstance:new D(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new D(_e(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Me(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Me(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Me(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class gs extends ke{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function B(r,e){if(y(r)||r===null)return e;if(r instanceof ke)return r;if(ks(r)){const t=r.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Re.instance:t==="utc"||t==="gmt"?D.utcInstance:D.parseSpecifier(t)||_.create(r)}else return Q(r)?D.instance(r):typeof r=="object"&&"offset"in r&&typeof r.offset=="function"?r:new gs(r)}const ft={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},ar={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ps=ft.hanidec.replace(/[\[|\]]/g,"").split("");function ws(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let t=0;t<r.length;t++){const n=r.charCodeAt(t);if(r[t].search(ft.hanidec)!==-1)e+=ps.indexOf(r[t]);else for(const s in ar){const[i,a]=ar[s];n>=i&&n<=a&&(e+=n-i)}}return parseInt(e,10)}else return e}const dt=new Map;function Ts(){dt.clear()}function V({numberingSystem:r},e=""){const t=r||"latn";let n=dt.get(t);n===void 0&&(n=new Map,dt.set(t,n));let s=n.get(e);return s===void 0&&(s=new RegExp(`${ft[t]}${e}`),n.set(e,s)),s}let or=()=>Date.now(),lr="system",ur=null,cr=null,fr=null,dr=60,hr,mr=null;class b{static get now(){return or}static set now(e){or=e}static set defaultZone(e){lr=e}static get defaultZone(){return B(lr,Re.instance)}static get defaultLocale(){return ur}static set defaultLocale(e){ur=e}static get defaultNumberingSystem(){return cr}static set defaultNumberingSystem(e){cr=e}static get defaultOutputCalendar(){return fr}static set defaultOutputCalendar(e){fr=e}static get defaultWeekSettings(){return mr}static set defaultWeekSettings(e){mr=gt(e)}static get twoDigitCutoffYear(){return dr}static set twoDigitCutoffYear(e){dr=e%100}static get throwOnInvalid(){return hr}static set throwOnInvalid(e){hr=e}static resetCaches(){S.resetCache(),_.resetCache(),g.resetCache(),Ts()}}class R{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const yr=[0,31,59,90,120,151,181,212,243,273,304,334],gr=[0,31,60,91,121,152,182,213,244,274,305,335];function A(r,e){return new R("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function ht(r,e,t){const n=new Date(Date.UTC(r,e-1,t));r<100&&r>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function pr(r,e,t){return t+(xe(r)?gr:yr)[e-1]}function wr(r,e){const t=xe(r)?gr:yr,n=t.findIndex(i=>i<e),s=e-t[n];return{month:n+1,day:s}}function mt(r,e){return(r-e+7)%7+1}function ze(r,e=4,t=1){const{year:n,month:s,day:i}=r,a=pr(n,s,i),o=mt(ht(n,s,i),t);let l=Math.floor((a-o+14-e)/7),u;return l<1?(u=n-1,l=Ee(u,e,t)):l>Ee(n,e,t)?(u=n+1,l=1):u=n,{weekYear:u,weekNumber:l,weekday:o,...He(r)}}function Tr(r,e=4,t=1){const{weekYear:n,weekNumber:s,weekday:i}=r,a=mt(ht(n,1,e),t),o=fe(n);let l=s*7+i-a-7+e,u;l<1?(u=n-1,l+=fe(u)):l>o?(u=n+1,l-=fe(n)):u=n;const{month:c,day:m}=wr(u,l);return{year:u,month:c,day:m,...He(r)}}function yt(r){const{year:e,month:t,day:n}=r,s=pr(e,t,n);return{year:e,ordinal:s,...He(r)}}function Sr(r){const{year:e,ordinal:t}=r,{month:n,day:s}=wr(e,t);return{year:e,month:n,day:s,...He(r)}}function Or(r,e){if(!y(r.localWeekday)||!y(r.localWeekNumber)||!y(r.localWeekYear)){if(!y(r.weekday)||!y(r.weekNumber)||!y(r.weekYear))throw new ue("Cannot mix locale-based week fields with ISO-based week fields");return y(r.localWeekday)||(r.weekday=r.localWeekday),y(r.localWeekNumber)||(r.weekNumber=r.localWeekNumber),y(r.localWeekYear)||(r.weekYear=r.localWeekYear),delete r.localWeekday,delete r.localWeekNumber,delete r.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Ss(r,e=4,t=1){const n=Ue(r.weekYear),s=F(r.weekNumber,1,Ee(r.weekYear,e,t)),i=F(r.weekday,1,7);return n?s?i?!1:A("weekday",r.weekday):A("week",r.weekNumber):A("weekYear",r.weekYear)}function Os(r){const e=Ue(r.year),t=F(r.ordinal,1,fe(r.year));return e?t?!1:A("ordinal",r.ordinal):A("year",r.year)}function kr(r){const e=Ue(r.year),t=F(r.month,1,12),n=F(r.day,1,Pe(r.year,r.month));return e?t?n?!1:A("day",r.day):A("month",r.month):A("year",r.year)}function br(r){const{hour:e,minute:t,second:n,millisecond:s}=r,i=F(e,0,23)||e===24&&t===0&&n===0&&s===0,a=F(t,0,59),o=F(n,0,59),l=F(s,0,999);return i?a?o?l?!1:A("millisecond",s):A("second",n):A("minute",t):A("hour",e)}function y(r){return typeof r>"u"}function Q(r){return typeof r=="number"}function Ue(r){return typeof r=="number"&&r%1===0}function ks(r){return typeof r=="string"}function bs(r){return Object.prototype.toString.call(r)==="[object Date]"}function xr(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Er(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function xs(r){return Array.isArray(r)?r:[r]}function Mr(r,e,t){if(r.length!==0)return r.reduce((n,s)=>{const i=[e(s),s];return n&&t(n[0],i[0])===n[0]?n:i},null)[1]}function Es(r,e){return e.reduce((t,n)=>(t[n]=r[n],t),{})}function ce(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function gt(r){if(r==null)return null;if(typeof r!="object")throw new M("Week settings must be an object");if(!F(r.firstDay,1,7)||!F(r.minimalDays,1,7)||!Array.isArray(r.weekend)||r.weekend.some(e=>!F(e,1,7)))throw new M("Invalid week settings");return{firstDay:r.firstDay,minimalDays:r.minimalDays,weekend:Array.from(r.weekend)}}function F(r,e,t){return Ue(r)&&r>=e&&r<=t}function Ms(r,e){return r-e*Math.floor(r/e)}function E(r,e=2){const t=r<0;let n;return t?n="-"+(""+-r).padStart(e,"0"):n=(""+r).padStart(e,"0"),n}function K(r){if(!(y(r)||r===null||r===""))return parseInt(r,10)}function ie(r){if(!(y(r)||r===null||r===""))return parseFloat(r)}function pt(r){if(!(y(r)||r===null||r==="")){const e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function wt(r,e,t=!1){const n=10**e;return(t?Math.trunc:Math.round)(r*n)/n}function xe(r){return r%4===0&&(r%100!==0||r%400===0)}function fe(r){return xe(r)?366:365}function Pe(r,e){const t=Ms(e-1,12)+1,n=r+(e-t)/12;return t===2?xe(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Ze(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(r.year,r.month-1,r.day)),+e}function Ir(r,e,t){return-mt(ht(r,1,e),t)+e-1}function Ee(r,e=4,t=1){const n=Ir(r,e,t),s=Ir(r+1,e,t);return(fe(r)-n+s)/7}function Tt(r){return r>99?r:r>b.twoDigitCutoffYear?1900+r:2e3+r}function Dr(r,e,t,n=null){const s=new Date(r),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);const a={timeZoneName:e,...i},o=new Intl.DateTimeFormat(t,a).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function _e(r,e){let t=parseInt(r,10);Number.isNaN(t)&&(t=0);const n=parseInt(e,10)||0,s=t<0||Object.is(t,-0)?-n:n;return t*60+s}function Nr(r){const e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new M(`Invalid unit value ${r}`);return e}function Ge(r,e){const t={};for(const n in r)if(ce(r,n)){const s=r[n];if(s==null)continue;t[e(n)]=Nr(s)}return t}function Me(r,e){const t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),s=r>=0?"+":"-";switch(e){case"short":return`${s}${E(t,2)}:${E(n,2)}`;case"narrow":return`${s}${t}${n>0?`:${n}`:""}`;case"techie":return`${s}${E(t,2)}${E(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function He(r){return Es(r,["hour","minute","second","millisecond"])}const Is=["January","February","March","April","May","June","July","August","September","October","November","December"],vr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ds=["J","F","M","A","M","J","J","A","S","O","N","D"];function Cr(r){switch(r){case"narrow":return[...Ds];case"short":return[...vr];case"long":return[...Is];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Ar=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Fr=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ns=["M","T","W","T","F","S","S"];function $r(r){switch(r){case"narrow":return[...Ns];case"short":return[...Fr];case"long":return[...Ar];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Lr=["AM","PM"],vs=["Before Christ","Anno Domini"],Cs=["BC","AD"],As=["B","A"];function Vr(r){switch(r){case"narrow":return[...As];case"short":return[...Cs];case"long":return[...vs];default:return null}}function Fs(r){return Lr[r.hour<12?0:1]}function $s(r,e){return $r(e)[r.weekday-1]}function Ls(r,e){return Cr(e)[r.month-1]}function Vs(r,e){return Vr(e)[r.year<0?0:1]}function Rs(r,e,t="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&i){const m=r==="days";switch(e){case 1:return m?"tomorrow":`next ${s[r][0]}`;case-1:return m?"yesterday":`last ${s[r][0]}`;case 0:return m?"today":`this ${s[r][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,u=s[r],c=n?l?u[1]:u[2]||u[1]:l?s[r][0]:r;return a?`${o} ${c} ago`:`in ${o} ${c}`}function Rr(r,e){let t="";for(const n of r)n.literal?t+=n.val:t+=e(n.val);return t}const Ws={D:Ve,DD:Wt,DDD:zt,DDDD:Ut,t:Pt,tt:Zt,ttt:_t,tttt:Gt,T:Ht,TT:jt,TTT:Yt,TTTT:qt,f:Jt,ff:Qt,fff:Xt,ffff:tr,F:Bt,FF:Kt,FFF:er,FFFF:rr};class I{static create(e,t={}){return new I(e,t)}static parseFormat(e){let t=null,n="",s=!1;const i=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),t=null,n="",s=!s):s||o===t?n+=o:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=o,t=o)}return n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return Ws[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return E(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(d,O)=>this.loc.extract(e,d,O),a=d=>e.isOffsetFixed&&e.offset===0&&d.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,d.format):"",o=()=>n?Fs(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,O)=>n?Ls(e,d):i(O?{month:d}:{month:d,day:"numeric"},"month"),u=(d,O)=>n?$s(e,d):i(O?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),c=d=>{const O=I.macroTokenToFormatOpts(d);return O?this.formatWithSystemDefault(e,O):d},m=d=>n?Vs(e,d):i({era:d},"era"),w=d=>{switch(d){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?i({day:"numeric"},"day"):this.num(e.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(e.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(e.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(d)}};return Rr(I.parseFormat(t),w)}formatDurationFromString(e,t){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>u=>{const c=n(u);return c?this.num(l.get(c),u.length):u},i=I.parseFormat(t),a=i.reduce((l,{literal:u,val:c})=>u?l:l.concat(c),[]),o=e.shiftTo(...a.map(n).filter(l=>l));return Rr(i,s(o))}}const Wr=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function de(...r){const e=r.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function he(...r){return e=>r.reduce(([t,n,s],i)=>{const[a,o,l]=i(e,s);return[{...t,...a},o||n,l]},[{},null,1]).slice(0,2)}function me(r,...e){if(r==null)return[null,null];for(const[t,n]of e){const s=t.exec(r);if(s)return n(s)}return[null,null]}function zr(...r){return(e,t)=>{const n={};let s;for(s=0;s<r.length;s++)n[r[s]]=K(e[t+s]);return[n,null,t+s]}}const Ur=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,zs=`(?:${Ur.source}?(?:\\[(${Wr.source})\\])?)?`,St=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Pr=RegExp(`${St.source}${zs}`),Ot=RegExp(`(?:T${Pr.source})?`),Us=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ps=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Zs=/(\d{4})-?(\d{3})/,_s=zr("weekYear","weekNumber","weekDay"),Gs=zr("year","ordinal"),Hs=/(\d{4})-(\d\d)-(\d\d)/,Zr=RegExp(`${St.source} ?(?:${Ur.source}|(${Wr.source}))?`),js=RegExp(`(?: ${Zr.source})?`);function ye(r,e,t){const n=r[e];return y(n)?t:K(n)}function Ys(r,e){return[{year:ye(r,e),month:ye(r,e+1,1),day:ye(r,e+2,1)},null,e+3]}function ge(r,e){return[{hours:ye(r,e,0),minutes:ye(r,e+1,0),seconds:ye(r,e+2,0),milliseconds:pt(r[e+3])},null,e+4]}function Ie(r,e){const t=!r[e]&&!r[e+1],n=_e(r[e+1],r[e+2]),s=t?null:D.instance(n);return[{},s,e+3]}function De(r,e){const t=r[e]?_.create(r[e]):null;return[{},t,e+1]}const qs=RegExp(`^T?${St.source}$`),Js=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Bs(r){const[e,t,n,s,i,a,o,l,u]=r,c=e[0]==="-",m=l&&l[0]==="-",w=(d,O=!1)=>d!==void 0&&(O||d&&c)?-d:d;return[{years:w(ie(t)),months:w(ie(n)),weeks:w(ie(s)),days:w(ie(i)),hours:w(ie(a)),minutes:w(ie(o)),seconds:w(ie(l),l==="-0"),milliseconds:w(pt(u),m)}]}const Qs={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function kt(r,e,t,n,s,i,a){const o={year:e.length===2?Tt(K(e)):K(e),month:vr.indexOf(t)+1,day:K(n),hour:K(s),minute:K(i)};return a&&(o.second=K(a)),r&&(o.weekday=r.length>3?Ar.indexOf(r)+1:Fr.indexOf(r)+1),o}const Ks=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Xs(r){const[,e,t,n,s,i,a,o,l,u,c,m]=r,w=kt(e,s,n,t,i,a,o);let d;return l?d=Qs[l]:u?d=0:d=_e(c,m),[w,new D(d)]}function ei(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const ti=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ri=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ni=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function _r(r){const[,e,t,n,s,i,a,o]=r;return[kt(e,s,n,t,i,a,o),D.utcInstance]}function si(r){const[,e,t,n,s,i,a,o]=r;return[kt(e,o,t,n,s,i,a),D.utcInstance]}const ii=de(Us,Ot),ai=de(Ps,Ot),oi=de(Zs,Ot),li=de(Pr),Gr=he(Ys,ge,Ie,De),ui=he(_s,ge,Ie,De),ci=he(Gs,ge,Ie,De),fi=he(ge,Ie,De);function di(r){return me(r,[ii,Gr],[ai,ui],[oi,ci],[li,fi])}function hi(r){return me(ei(r),[Ks,Xs])}function mi(r){return me(r,[ti,_r],[ri,_r],[ni,si])}function yi(r){return me(r,[Js,Bs])}const gi=he(ge);function pi(r){return me(r,[qs,gi])}const wi=de(Hs,js),Ti=de(Zr),Si=he(ge,Ie,De);function Oi(r){return me(r,[wi,Gr],[Ti,Si])}const Hr="Invalid Duration",jr={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ki={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...jr},$=146097/400,pe=146097/4800,bi={years:{quarters:4,months:12,weeks:$/7,days:$,hours:$*24,minutes:$*24*60,seconds:$*24*60*60,milliseconds:$*24*60*60*1e3},quarters:{months:3,weeks:$/28,days:$/4,hours:$*24/4,minutes:$*24*60/4,seconds:$*24*60*60/4,milliseconds:$*24*60*60*1e3/4},months:{weeks:pe/7,days:pe,hours:pe*24,minutes:pe*24*60,seconds:pe*24*60*60,milliseconds:pe*24*60*60*1e3},...jr},ae=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],xi=ae.slice(0).reverse();function X(r,e,t=!1){const n={values:t?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy,matrix:e.matrix||r.matrix};return new p(n)}function Yr(r,e){let t=e.milliseconds??0;for(const n of xi.slice(1))e[n]&&(t+=e[n]*r[n].milliseconds);return t}function qr(r,e){const t=Yr(r,e)<0?-1:1;ae.reduceRight((n,s)=>{if(y(e[s]))return n;if(n){const i=e[n]*t,a=r[s][n],o=Math.floor(i/a);e[s]+=o*t,e[n]-=o*a*t}return s},null),ae.reduce((n,s)=>{if(y(e[s]))return n;if(n){const i=e[n]%1;e[n]-=i,e[s]+=i*r[n][s]}return s},null)}function Ei(r){const e={};for(const[t,n]of Object.entries(r))n!==0&&(e[t]=n);return e}class p{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let n=t?bi:ki;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||S.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return p.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new M(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new p({values:Ge(e,p.normalizeUnit),loc:S.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Q(e))return p.fromMillis(e);if(p.isDuration(e))return e;if(typeof e=="object")return p.fromObject(e);throw new M(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=yi(e);return n?p.fromObject(n,t):p.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=pi(e);return n?p.fromObject(n,t):p.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new M("need to specify a reason the Duration is invalid");const n=e instanceof R?e:new R(e,t);if(b.throwOnInvalid)throw new Bn(n);return new p({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Rt(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?I.create(this.loc,n).formatDurationFromString(this,e):Hr}toHuman(e={}){if(!this.isValid)return Hr;const t=ae.map(n=>{const s=this.values[n];return y(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=wt(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},g.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Yr(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=p.fromDurationLike(e),n={};for(const s of ae)(ce(t.values,s)||ce(this.values,s))&&(n[s]=t.get(s)+this.get(s));return X(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=p.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=Nr(e(this.values[n],n));return X(this,{values:t},!0)}get(e){return this[p.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Ge(e,p.normalizeUnit)};return X(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:s}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:s,conversionAccuracy:n};return X(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return qr(this.matrix,e),X(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Ei(this.normalize().shiftToAll().toObject());return X(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>p.normalizeUnit(a));const t={},n={},s=this.toObject();let i;for(const a of ae)if(e.indexOf(a)>=0){i=a;let o=0;for(const u in n)o+=this.matrix[u][a]*n[u],n[u]=0;Q(s[a])&&(o+=s[a]);const l=Math.trunc(o);t[a]=l,n[a]=(o*1e3-l*1e3)/1e3}else Q(s[a])&&(n[a]=s[a]);for(const a in n)n[a]!==0&&(t[i]+=a===i?n[a]:n[a]/this.matrix[i][a]);return qr(this.matrix,t),X(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return X(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of ae)if(!t(this.values[n],e.values[n]))return!1;return!0}}const we="Invalid Interval";function Mi(r,e){return!r||!r.isValid?x.invalid("missing or invalid start"):!e||!e.isValid?x.invalid("missing or invalid end"):e<r?x.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}class x{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new M("need to specify a reason the Interval is invalid");const n=e instanceof R?e:new R(e,t);if(b.throwOnInvalid)throw new Jn(n);return new x({invalid:n})}static fromDateTimes(e,t){const n=Ce(e),s=Ce(t),i=Mi(n,s);return i??new x({start:n,end:s})}static after(e,t){const n=p.fromDurationLike(t),s=Ce(e);return x.fromDateTimes(s,s.plus(n))}static before(e,t){const n=p.fromDurationLike(t),s=Ce(e);return x.fromDateTimes(s.minus(n),s)}static fromISO(e,t){const[n,s]=(e||"").split("/",2);if(n&&s){let i,a;try{i=g.fromISO(n,t),a=i.isValid}catch{a=!1}let o,l;try{o=g.fromISO(s,t),l=o.isValid}catch{l=!1}if(a&&l)return x.fromDateTimes(i,o);if(a){const u=p.fromISO(s,t);if(u.isValid)return x.after(i,u)}else if(l){const u=p.fromISO(n,t);if(u.isValid)return x.before(o,u)}}return x.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let s;return t!=null&&t.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(e,t),Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?x.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Ce).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),n=[];let{s}=this,i=0;for(;s<this.e;){const a=t[i]||this.e,o=+a>+this.e?this.e:a;n.push(x.fromDateTimes(s,o)),s=o,i+=1}return n}splitBy(e){const t=p.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,s=1,i;const a=[];for(;n<this.e;){const o=this.start.plus(t.mapUnits(l=>l*s));i=+o>+this.e?this.e:o,a.push(x.fromDateTimes(n,i)),n=i,s+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:x.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return x.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((s,i)=>s.s-i.s).reduce(([s,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[s,i.union(a)]:[s.concat([i]),a]:[s,a],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const s=[],i=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...i),o=a.sort((l,u)=>l.time-u.time);for(const l of o)n+=l.type==="s"?1:-1,n===1?t=l.time:(t&&+t!=+l.time&&s.push(x.fromDateTimes(t,l.time)),t=null);return x.merge(s)}difference(...e){return x.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:we}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Ve,t={}){return this.isValid?I.create(this.s.loc.clone(t),e).formatInterval(this):we}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:we}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:we}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:we}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:we}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):p.invalid(this.invalidReason)}mapEndpoints(e){return x.fromDateTimes(e(this.s),e(this.e))}}class je{static hasDST(e=b.defaultZone){const t=g.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return _.isValidZone(e)}static normalizeZone(e){return B(e,b.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||S.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||S.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||S.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||S.create(t,n,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||S.create(t,n,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||S.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:s=null}={}){return(s||S.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return S.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return S.create(t,null,"gregory").eras(e)}static features(){return{relative:xr(),localeWeek:Er()}}}function Jr(r,e){const t=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(r);return Math.floor(p.fromMillis(n).as("days"))}function Ii(r,e,t){const n=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const c=Jr(l,u);return(c-c%7)/7}],["days",Jr]],s={},i=r;let a,o;for(const[l,u]of n)t.indexOf(l)>=0&&(a=l,s[l]=u(r,e),o=i.plus(s),o>e?(s[l]--,r=i.plus(s),r>e&&(o=r,s[l]--,r=i.plus(s))):r=o);return[r,s,o,a]}function Di(r,e,t,n){let[s,i,a,o]=Ii(r,e,t);const l=e-s,u=t.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);u.length===0&&(a<e&&(a=s.plus({[o]:1})),a!==s&&(i[o]=(i[o]||0)+l/(a-s)));const c=p.fromObject(i,n);return u.length>0?p.fromMillis(l,n).shiftTo(...u).plus(c):c}const Ni="missing Intl.DateTimeFormat.formatToParts support";function T(r,e=t=>t){return{regex:r,deser:([t])=>e(ws(t))}}const Br="[  ]",Qr=new RegExp(Br,"g");function vi(r){return r.replace(/\./g,"\\.?").replace(Qr,Br)}function Kr(r){return r.replace(/\./g,"").replace(Qr," ").toLowerCase()}function W(r,e){return r===null?null:{regex:RegExp(r.map(vi).join("|")),deser:([t])=>r.findIndex(n=>Kr(t)===Kr(n))+e}}function Xr(r,e){return{regex:r,deser:([,t,n])=>_e(t,n),groups:e}}function Ye(r){return{regex:r,deser:([e])=>e}}function Ci(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Ai(r,e){const t=V(e),n=V(e,"{2}"),s=V(e,"{3}"),i=V(e,"{4}"),a=V(e,"{6}"),o=V(e,"{1,2}"),l=V(e,"{1,3}"),u=V(e,"{1,6}"),c=V(e,"{1,9}"),m=V(e,"{2,4}"),w=V(e,"{4,6}"),d=N=>({regex:RegExp(Ci(N.val)),deser:([ee])=>ee,literal:!0}),C=(N=>{if(r.literal)return d(N);switch(N.val){case"G":return W(e.eras("short"),0);case"GG":return W(e.eras("long"),0);case"y":return T(u);case"yy":return T(m,Tt);case"yyyy":return T(i);case"yyyyy":return T(w);case"yyyyyy":return T(a);case"M":return T(o);case"MM":return T(n);case"MMM":return W(e.months("short",!0),1);case"MMMM":return W(e.months("long",!0),1);case"L":return T(o);case"LL":return T(n);case"LLL":return W(e.months("short",!1),1);case"LLLL":return W(e.months("long",!1),1);case"d":return T(o);case"dd":return T(n);case"o":return T(l);case"ooo":return T(s);case"HH":return T(n);case"H":return T(o);case"hh":return T(n);case"h":return T(o);case"mm":return T(n);case"m":return T(o);case"q":return T(o);case"qq":return T(n);case"s":return T(o);case"ss":return T(n);case"S":return T(l);case"SSS":return T(s);case"u":return Ye(c);case"uu":return Ye(o);case"uuu":return T(t);case"a":return W(e.meridiems(),0);case"kkkk":return T(i);case"kk":return T(m,Tt);case"W":return T(o);case"WW":return T(n);case"E":case"c":return T(t);case"EEE":return W(e.weekdays("short",!1),1);case"EEEE":return W(e.weekdays("long",!1),1);case"ccc":return W(e.weekdays("short",!0),1);case"cccc":return W(e.weekdays("long",!0),1);case"Z":case"ZZ":return Xr(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return Xr(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return Ye(/[a-z_+-/]{1,256}?/i);case" ":return Ye(/[^\S\n\r]/);default:return d(N)}})(r)||{invalidReason:Ni};return C.token=r,C}const Fi={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function $i(r,e,t){const{type:n,value:s}=r;if(n==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const i=e[n];let a=n;n==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=t.hour12?"hour12":"hour24");let o=Fi[a];if(typeof o=="object"&&(o=o[i]),o)return{literal:!1,val:o}}function Li(r){return[`^${r.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,r]}function Vi(r,e,t){const n=r.match(e);if(n){const s={};let i=1;for(const a in t)if(ce(t,a)){const o=t[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(n.slice(i,i+l))),i+=l}return[n,s]}else return[n,{}]}function Ri(r){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,n;return y(r.z)||(t=_.create(r.z)),y(r.Z)||(t||(t=new D(r.Z)),n=r.Z),y(r.q)||(r.M=(r.q-1)*3+1),y(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),y(r.u)||(r.S=pt(r.u)),[Object.keys(r).reduce((i,a)=>{const o=e(a);return o&&(i[o]=r[a]),i},{}),t,n]}let bt=null;function Wi(){return bt||(bt=g.fromMillis(1555555555555)),bt}function zi(r,e){if(r.literal)return r;const t=I.macroTokenToFormatOpts(r.val),n=nn(t,e);return n==null||n.includes(void 0)?r:n}function en(r,e){return Array.prototype.concat(...r.map(t=>zi(t,e)))}class tn{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=en(I.parseFormat(t),e),this.units=this.tokens.map(n=>Ai(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,s]=Li(this.units);this.regex=RegExp(n,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[t,n]=Vi(e,this.regex,this.handlers),[s,i,a]=n?Ri(n):[null,null,void 0];if(ce(n,"a")&&ce(n,"H"))throw new ue("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:n,result:s,zone:i,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function rn(r,e,t){return new tn(r,t).explainFromTokens(e)}function Ui(r,e,t){const{result:n,zone:s,specificOffset:i,invalidReason:a}=rn(r,e,t);return[n,s,i,a]}function nn(r,e){if(!r)return null;const n=I.create(e,r).dtFormatter(Wi()),s=n.formatToParts(),i=n.resolvedOptions();return s.map(a=>$i(a,r,i))}const xt="Invalid DateTime",sn=864e13;function Ne(r){return new R("unsupported zone",`the zone "${r.name}" is not supported`)}function Et(r){return r.weekData===null&&(r.weekData=ze(r.c)),r.weekData}function Mt(r){return r.localWeekData===null&&(r.localWeekData=ze(r.c,r.loc.getMinDaysInFirstWeek(),r.loc.getStartOfWeek())),r.localWeekData}function oe(r,e){const t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new g({...t,...e,old:t})}function an(r,e,t){let n=r-e*60*1e3;const s=t.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;const i=t.offset(n);return s===i?[n,s]:[r-Math.min(s,i)*60*1e3,Math.max(s,i)]}function qe(r,e){r+=e*60*1e3;const t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Je(r,e,t){return an(Ze(r),e,t)}function on(r,e){const t=r.o,n=r.c.year+Math.trunc(e.years),s=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...r.c,year:n,month:s,day:Math.min(r.c.day,Pe(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=p.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Ze(i);let[l,u]=an(o,t,r.zone);return a!==0&&(l+=a,u=r.zone.offset(l)),{ts:l,o:u}}function Te(r,e,t,n,s,i){const{setZone:a,zone:o}=t;if(r&&Object.keys(r).length!==0||e){const l=e||o,u=g.fromObject(r,{...t,zone:l,specificOffset:i});return a?u:u.setZone(o)}else return g.invalid(new R("unparsable",`the input "${s}" can't be parsed as ${n}`))}function Be(r,e,t=!0){return r.isValid?I.create(S.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function It(r,e){const t=r.c.year>9999||r.c.year<0;let n="";return t&&r.c.year>=0&&(n+="+"),n+=E(r.c.year,t?6:4),e?(n+="-",n+=E(r.c.month),n+="-",n+=E(r.c.day)):(n+=E(r.c.month),n+=E(r.c.day)),n}function ln(r,e,t,n,s,i){let a=E(r.c.hour);return e?(a+=":",a+=E(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(a+=":")):a+=E(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(a+=E(r.c.second),(r.c.millisecond!==0||!n)&&(a+=".",a+=E(r.c.millisecond,3))),s&&(r.isOffsetFixed&&r.offset===0&&!i?a+="Z":r.o<0?(a+="-",a+=E(Math.trunc(-r.o/60)),a+=":",a+=E(Math.trunc(-r.o%60))):(a+="+",a+=E(Math.trunc(r.o/60)),a+=":",a+=E(Math.trunc(r.o%60)))),i&&(a+="["+r.zone.ianaName+"]"),a}const un={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Pi={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Zi={ordinal:1,hour:0,minute:0,second:0,millisecond:0},cn=["year","month","day","hour","minute","second","millisecond"],_i=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Gi=["year","ordinal","hour","minute","second","millisecond"];function Hi(r){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new Rt(r);return e}function fn(r){switch(r.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Hi(r)}}function ji(r){if(ve===void 0&&(ve=b.now()),r.type!=="iana")return r.offset(ve);const e=r.name;let t=Dt.get(e);return t===void 0&&(t=r.offset(ve),Dt.set(e,t)),t}function dn(r,e){const t=B(e.zone,b.defaultZone);if(!t.isValid)return g.invalid(Ne(t));const n=S.fromObject(e);let s,i;if(y(r.year))s=b.now();else{for(const l of cn)y(r[l])&&(r[l]=un[l]);const a=kr(r)||br(r);if(a)return g.invalid(a);const o=ji(t);[s,i]=Je(r,o,t)}return new g({ts:s,zone:t,loc:n,o:i})}function hn(r,e,t){const n=y(t.round)?!0:t.round,s=(a,o)=>(a=wt(a,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(a,o)),i=a=>t.calendary?e.hasSame(r,a)?0:e.startOf(a).diff(r.startOf(a),a).get(a):e.diff(r,a).get(a);if(t.unit)return s(i(t.unit),t.unit);for(const a of t.units){const o=i(a);if(Math.abs(o)>=1)return s(o,a)}return s(r>e?-0:0,t.units[t.units.length-1])}function mn(r){let e={},t;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],t=Array.from(r).slice(0,r.length-1)):t=Array.from(r),[e,t]}let ve;const Dt=new Map;class g{constructor(e){const t=e.zone||b.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new R("invalid input"):null)||(t.isValid?null:Ne(t));this.ts=y(e.ts)?b.now():e.ts;let s=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[s,i]=[e.old.c,e.old.o];else{const o=Q(e.o)&&!e.old?e.o:t.offset(this.ts);s=qe(this.ts,o),n=Number.isNaN(s.year)?new R("invalid input"):null,s=n?null:s,i=n?null:o}this._zone=t,this.loc=e.loc||S.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=i,this.isLuxonDateTime=!0}static now(){return new g({})}static local(){const[e,t]=mn(arguments),[n,s,i,a,o,l,u]=t;return dn({year:n,month:s,day:i,hour:a,minute:o,second:l,millisecond:u},e)}static utc(){const[e,t]=mn(arguments),[n,s,i,a,o,l,u]=t;return e.zone=D.utcInstance,dn({year:n,month:s,day:i,hour:a,minute:o,second:l,millisecond:u},e)}static fromJSDate(e,t={}){const n=bs(e)?e.valueOf():NaN;if(Number.isNaN(n))return g.invalid("invalid input");const s=B(t.zone,b.defaultZone);return s.isValid?new g({ts:n,zone:s,loc:S.fromObject(t)}):g.invalid(Ne(s))}static fromMillis(e,t={}){if(Q(e))return e<-sn||e>sn?g.invalid("Timestamp out of range"):new g({ts:e,zone:B(t.zone,b.defaultZone),loc:S.fromObject(t)});throw new M(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Q(e))return new g({ts:e*1e3,zone:B(t.zone,b.defaultZone),loc:S.fromObject(t)});throw new M("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=B(t.zone,b.defaultZone);if(!n.isValid)return g.invalid(Ne(n));const s=S.fromObject(t),i=Ge(e,fn),{minDaysInFirstWeek:a,startOfWeek:o}=Or(i,s),l=b.now(),u=y(t.specificOffset)?n.offset(l):t.specificOffset,c=!y(i.ordinal),m=!y(i.year),w=!y(i.month)||!y(i.day),d=m||w,O=i.weekYear||i.weekNumber;if((d||c)&&O)throw new ue("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&c)throw new ue("Can't mix ordinal dates with month/day");const C=O||i.weekday&&!d;let N,ee,te=qe(l,u);C?(N=_i,ee=Pi,te=ze(te,a,o)):c?(N=Gi,ee=Zi,te=yt(te)):(N=cn,ee=un);let le=!1;for(const Fe of N){const na=i[Fe];y(na)?le?i[Fe]=ee[Fe]:i[Fe]=te[Fe]:le=!0}const G=C?Ss(i,a,o):c?Os(i):kr(i),Se=G||br(i);if(Se)return g.invalid(Se);const vt=C?Tr(i,a,o):c?Sr(i):i,[Ct,ra]=Je(vt,u,n),Ae=new g({ts:Ct,zone:n,o:ra,loc:s});return i.weekday&&d&&e.weekday!==Ae.weekday?g.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${Ae.toISO()}`):Ae.isValid?Ae:g.invalid(Ae.invalid)}static fromISO(e,t={}){const[n,s]=di(e);return Te(n,s,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,s]=hi(e);return Te(n,s,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,s]=mi(e);return Te(n,s,t,"HTTP",t)}static fromFormat(e,t,n={}){if(y(e)||y(t))throw new M("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:i=null}=n,a=S.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),[o,l,u,c]=Ui(a,e,t);return c?g.invalid(c):Te(o,l,n,`format ${t}`,e,u)}static fromString(e,t,n={}){return g.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,s]=Oi(e);return Te(n,s,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new M("need to specify a reason the DateTime is invalid");const n=e instanceof R?e:new R(e,t);if(b.throwOnInvalid)throw new qn(n);return new g({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=nn(e,S.fromObject(t));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,t={}){return en(I.parseFormat(e),S.fromObject(t)).map(s=>s.val).join("")}static resetCache(){ve=void 0,Dt.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Et(this).weekYear:NaN}get weekNumber(){return this.isValid?Et(this).weekNumber:NaN}get weekday(){return this.isValid?Et(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Mt(this).weekday:NaN}get localWeekNumber(){return this.isValid?Mt(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Mt(this).weekYear:NaN}get ordinal(){return this.isValid?yt(this.c).ordinal:NaN}get monthShort(){return this.isValid?je.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?je.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?je.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?je.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=Ze(this.c),s=this.zone.offset(n-e),i=this.zone.offset(n+e),a=this.zone.offset(n-s*t),o=this.zone.offset(n-i*t);if(a===o)return[this];const l=n-a*t,u=n-o*t,c=qe(l,a),m=qe(u,o);return c.hour===m.hour&&c.minute===m.minute&&c.second===m.second&&c.millisecond===m.millisecond?[oe(this,{ts:l}),oe(this,{ts:u})]:[this]}get isInLeapYear(){return xe(this.year)}get daysInMonth(){return Pe(this.year,this.month)}get daysInYear(){return this.isValid?fe(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ee(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ee(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:s}=I.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:s}}toUTC(e=0,t={}){return this.setZone(D.instance(e),t)}toLocal(){return this.setZone(b.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=B(e,b.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(t||n){const i=e.offset(this.ts),a=this.toObject();[s]=Je(a,i,e)}return oe(this,{ts:s,zone:e})}else return g.invalid(Ne(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){const s=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return oe(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Ge(e,fn),{minDaysInFirstWeek:n,startOfWeek:s}=Or(t,this.loc),i=!y(t.weekYear)||!y(t.weekNumber)||!y(t.weekday),a=!y(t.ordinal),o=!y(t.year),l=!y(t.month)||!y(t.day),u=o||l,c=t.weekYear||t.weekNumber;if((u||a)&&c)throw new ue("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new ue("Can't mix ordinal dates with month/day");let m;i?m=Tr({...ze(this.c,n,s),...t},n,s):y(t.ordinal)?(m={...this.toObject(),...t},y(t.day)&&(m.day=Math.min(Pe(m.year,m.month),m.day))):m=Sr({...yt(this.c),...t});const[w,d]=Je(m,this.o,this.zone);return oe(this,{ts:w,o:d})}plus(e){if(!this.isValid)return this;const t=p.fromDurationLike(e);return oe(this,on(this,t))}minus(e){if(!this.isValid)return this;const t=p.fromDurationLike(e).negate();return oe(this,on(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const n={},s=p.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks")if(t){const i=this.loc.getStartOfWeek(),{weekday:a}=this;a<i&&(n.weekNumber=this.weekNumber-1),n.weekday=i}else n.weekday=1;if(s==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?I.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):xt}toLocaleString(e=Ve,t={}){return this.isValid?I.create(this.loc.clone(t),e).formatDateTime(this):xt}toLocaleParts(e={}){return this.isValid?I.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=It(this,a);return o+="T",o+=ln(this,a,t,n,s,i),o}toISODate({format:e="extended"}={}){return this.isValid?It(this,e==="extended"):null}toISOWeekDate(){return Be(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(s?"T":"")+ln(this,a==="extended",t,e,n,i):null}toRFC2822(){return Be(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Be(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?It(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(t||e)&&(n&&(s+=" "),t?s+="z":e&&(s+="ZZ")),Be(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():xt}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return p.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=xs(t).map(p.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,u=Di(o,l,i,s);return a?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(g.now(),e,t)}until(e){return this.isValid?x.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const s=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,n)<=s&&s<=i.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||g.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(s=e.unit,i=void 0),hn(t,this.plus(n),{...e,numeric:"always",units:s,unit:i})}toRelativeCalendar(e={}){return this.isValid?hn(e.base||g.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(g.isDateTime))throw new M("min requires all arguments be DateTimes");return Mr(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(g.isDateTime))throw new M("max requires all arguments be DateTimes");return Mr(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:s=null,numberingSystem:i=null}=n,a=S.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return rn(a,e,t)}static fromStringExplain(e,t,n={}){return g.fromFormatExplain(e,t,n)}static buildFormatParser(e,t={}){const{locale:n=null,numberingSystem:s=null}=t,i=S.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new tn(i,e)}static fromFormatParser(e,t,n={}){if(y(e)||y(t))throw new M("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:i=null}=n,a=S.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});if(!a.equals(t.locale))throw new M(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${t.locale}`);const{result:o,zone:l,specificOffset:u,invalidReason:c}=t.explainFromTokens(e);return c?g.invalid(c):Te(o,l,n,`format ${t.format}`,e,u)}static get DATE_SHORT(){return Ve}static get DATE_MED(){return Wt}static get DATE_MED_WITH_WEEKDAY(){return Qn}static get DATE_FULL(){return zt}static get DATE_HUGE(){return Ut}static get TIME_SIMPLE(){return Pt}static get TIME_WITH_SECONDS(){return Zt}static get TIME_WITH_SHORT_OFFSET(){return _t}static get TIME_WITH_LONG_OFFSET(){return Gt}static get TIME_24_SIMPLE(){return Ht}static get TIME_24_WITH_SECONDS(){return jt}static get TIME_24_WITH_SHORT_OFFSET(){return Yt}static get TIME_24_WITH_LONG_OFFSET(){return qt}static get DATETIME_SHORT(){return Jt}static get DATETIME_SHORT_WITH_SECONDS(){return Bt}static get DATETIME_MED(){return Qt}static get DATETIME_MED_WITH_SECONDS(){return Kt}static get DATETIME_MED_WITH_WEEKDAY(){return Kn}static get DATETIME_FULL(){return Xt}static get DATETIME_FULL_WITH_SECONDS(){return er}static get DATETIME_HUGE(){return tr}static get DATETIME_HUGE_WITH_SECONDS(){return rr}}function Ce(r){if(g.isDateTime(r))return r;if(r&&r.valueOf&&Q(r.valueOf()))return g.fromJSDate(r);if(r&&typeof r=="object")return g.fromObject(r);throw new M(`Unknown datetime argument: ${r}, of type ${typeof r}`)}function Yi(r,e,t){let n=r.astronomyJS;const s=n.getDate();let i,a;if(r.timezone){let G=g.fromJSDate(s).setZone(r.timezone);a=G.startOf("day").toJSDate(),i=G.hour*60+G.minute}else i=s.getHours()*60+s.getMinutes(),a=new Date(s.getFullYear(),s.getMonth(),s.getDate());const o=t?2e3:1e3,l=qi(a),u=l.map((G,Se)=>{const vt=Se/(l.length-1)*o,Ct=n.getAltAzCoordinatesForObject("Sun",G).latitude;return[vt,yn(Ct,-90,90,950,50).toFixed(0)]}).map(([G,Se])=>`${G},${Se}`).join(" "),c=n.getAltAzCoordinatesForObject("Sun").latitude,m=yn(c,-90,90,950,50).toFixed(0),w=Vt(c),d=Ji(c),O=$e(d.limit,w.limit,c),C=Le(w.bottom,d.bottom,O),N=c>0?1:c<-9?0:$e(-9,0,c),ee=c>-3?1:c<-9?0:$e(-9,-3,c),te=Le("#808080","#ffffff",ee);let le=t?Cn(e,"black"):Y(e,"black");return le+=`
        <rect x="0" y="500" width="${o}" height="500" fill="black" />
        <defs>
            <clipPath id="top-half-clip">
                <rect x="0" y="500" width="${o*2}" height="500" />
            </clipPath>
            <clipPath id="bottom-half-clip">
                <rect x="0" y="0" width="${o*2}" height="500" />
            </clipPath>
            <radialGradient id="sun-glow-${c}" cx="50%" cy="50%" r="75%" fx="50%" fy="50%">
                <stop offset="0%" stop-color="#ffffff" stop-opacity=" ${1*N}" />
                <stop offset="25%" stop-color="#ffffff" stop-opacity=" ${1*N}" />
                <stop offset="60%" stop-color="#ffffff" stop-opacity=" ${.1*N}" />
                <stop offset="100%" stop-color="#ffffff" stop-opacity="0" />
            </radialGradient>
            <radialGradient id="twilight-glow-${c}" cx="50%" cy="50%" r="75%" fx="50%" fy="50%">
                <stop offset="0%" stop-color="${C}" stop-opacity="0.5" />
                <stop offset="50%" stop-color="${C}" stop-opacity="0.15" />
                <stop offset="90%" stop-color="${C}" stop-opacity="0.1" />
                <stop offset="100%" stop-color="${C}" stop-opacity="0.0" />
            </radialGradient>
            <linearGradient id="sun-line-gradient-${c}" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="80%" stop-color="${te}" stop-opacity="1" />
                <stop offset="100%" stop-color="#808080" stop-opacity="1" />
            </linearGradient>
        </defs>
        <rect x="0" y="0" width="${o}" height="500" fill="url(#sky-${c})" />
        <ellipse cx="${Nt(i,o)}" cy="${m}" rx="${1.2*o}" ry="125" fill="url(#twilight-glow-${c})" />
        <rect x="0" y="500" width="${o}" height="500" fill="black" />
        <polyline fill="none" stroke="url(#sun-line-gradient-${c})" stroke-width="35" points="${u}" clip-path="url(#top-half-clip)"/>
        <polyline fill="none" stroke="url(#sun-line-gradient-${c})" stroke-width="35" points="${u}" clip-path="url(#bottom-half-clip)"/>
        <line x1="0" y1="500" x2="${o}" y2="500" stroke="${te}" stroke-width="15" />
        <circle cx="${Nt(i,o)}"
            cy="${m}" r="50" stroke="#808080" stroke-width="20" clip-path="url(#top-half-clip)" />
        <circle cx="${Nt(i,o)}"
            cy="${m}" r="150" fill="url(#sun-glow-${c})" clip-path="url(#bottom-half-clip)" />
           `,le+=et(c),le+=q(),le}function qi(r){const e=[];for(let t=0;t<48;t++){const n=new Date(r.getTime()+t*30*60*1e3);e.push(n)}return e}function yn(r,e,t,n,s){return n+(r-e)*(s-n)/(t-e)}function Nt(r,e){return r/1440*e}function Ji(r){return r<=-18?{top:"#0b0c1a",bottom:"#101734",limit:-90}:r<=-15?{top:"#171c27",bottom:"#282e3c",limit:-18}:r<=-12?{top:"#171c29",bottom:"#525662",limit:-15}:r<=-9?{top:"#4e545f",bottom:"#b9a76c",limit:-12}:r<=-6?{top:"#909798",bottom:"#f9d92b",limit:-9}:r<=-3?{top:"#b6d8ed",bottom:"#f6da3f",limit:-6}:r<=0?{top:"#bcd6fc",bottom:"#98d5fc",limit:-3}:{top:"#cce8fd",bottom:"#98d5fc",limit:0}}function Bi(r,e,t){let n=r.astronomyJS,s=n.getEphemerisDateForObject(e,n.getDate(),"RISE"),i=Y(t,"black");return i+=Z(e),i+=re("Rise"),i+=ne(s.toLocaleTimeString(r.locale??[],{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}})),i+=q(),i}function Qi(r,e,t){let n=r.astronomyJS,s=n.getEphemerisDateForObject(e,n.getDate(),"SET"),i=Y(t,"black");return i+=Z(e),i+=re("Set"),i+=ne(s.toLocaleTimeString(r.locale??[],{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}})),i+=q(),i}function Ki(r,e,t){let n=r.astronomyJS,s=n.getAltAzCoordinatesForObject(e),i=Y(t,"black");if(s.latitude<0){i+=Z(e,!0);let a=n.getEphemerisDateForObject(e,n.getDate(),"RISE");i+=re("Visible at"),i+=ne(a.toLocaleTimeString(r.locale??[],{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}}))}else{let a=n.getAltAzCoordinatesForObject(e,new Date(n.getDate()-3e5)).latitude;i+=re(Ft(s.latitude,a)),i+=ne($t(s.longitude)),i+=Z(e)}return i+=q(),i}function Xi(r,e,t,n){let s=r.astronomyJS,i=s.getAltAzCoordinatesForObject("Sun").latitude,a=s.getAltAzCoordinatesForObject(e),o=Y(t,"black");if(a.latitude<0){o+=Z(e,!0);let l=s.getEphemerisDateForObject(e,s.getDate(),"RISE");o+=re("Visible at"),o+=ne(l.toLocaleTimeString(r.locale??[],{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}}))}else{let l=380,u=500,c=520,m=l*(1-a.latitude/90),w=(a.longitude-90)*(Math.PI/180),d=u+m*Math.cos(w),O=c+m*Math.sin(w);o+=`<rect x="0" y="0" width="1000" height="1000" fill="url(#sky-${i})" />`,n!==void 0&&n!==0?o+=`
            <g fill="white" font-size="70" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
            <text x="${u}" y="${c-l-60}">${n}</text>
          </g>
          <g transform="rotate(${360-n} ${u} ${c})">
        `:o+="<g>",o+=`
          <circle cx="${u}" cy="${c}" r="${l}" fill="none" stroke="white" stroke-width="15" />
          <circle cx="${u}" cy="${c}" r="${l/2}" fill="none" stroke="white" stroke-width="8" />
          <g fill="white" font-size="70" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
            <text x="${u}" y="${c-l-60}">N</text>
          </g>
        `,o+=`<g transform="translate(${d-500}, ${O-279})
                translate(500, 279) scale(0.3) translate(-500, -279)">`,o+=Z(e),o+="</g></g>"}return o+=et(i),o+=q(),o}function ea(r,e,t,n){let s=r.astronomyJS,i=s.getAltAzCoordinatesForObject("Sun").latitude,a=Y(t,"black"),o=380,l=500,u=520;a+=`<rect x="0" y="0" width="1000" height="1000" fill="url(#sky-${i})" />`,n!==void 0&&n!==0?a+=`
          <g fill="white" font-size="70" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
          <text x="${l}" y="${u-o-60}">${n}</text>
        </g>
        <g transform="rotate(${360-n} ${l} ${u})">
      `:a+="<g>",a+=`
        <circle cx="${l}" cy="${u}" r="${o}" fill="none" stroke="white" stroke-width="15" />
        <circle cx="${l}" cy="${u}" r="${o/2}" fill="none" stroke="white" stroke-width="8" />
        <g fill="white" font-size="70" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
          <text x="${l}" y="${u-o-60}">N</text>
        </g>
      `;for(let c of e){let m=s.getAltAzCoordinatesForObject(c);if(m.latitude<0)continue;let w=o*(1-m.latitude/90),d=(m.longitude-90)*(Math.PI/180),O=l+w*Math.cos(d),C=u+w*Math.sin(d);a+=`<g transform="translate(${O-500}, ${C-279})
              translate(500, 279) scale(0.3) translate(-500, -279)">`,a+=Z(c),a+="</g>"}return a+="</g>",a+=et(i),a+=q(),a}class Qe{constructor(){gn(this,"applicationContext",{astronomyJS:null,locale:null,timezone:null});this.applicationContext.astronomyJS=new Ke}getDate(){return this.applicationContext.astronomyJS.getDate()}setDate(e){this.applicationContext.astronomyJS.setDate(e)}setLocale(e){this.applicationContext.locale=e}setTimezone(e){this.applicationContext.timezone=e}setLocation(e,t){this.applicationContext.astronomyJS.setLocation("Earth",e,t,0)}getLocation(){return this.applicationContext.astronomyJS.getLatitudeLongitudeCoordinates()}static initialize(e,t){let n=new Qe;return n.setDate(new Date),n.setLocation(e,t),n}drawAzimuth(e,t){return Gn(this.applicationContext,e,t)}drawAltitude(e,t){return Hn(this.applicationContext,e,t)}drawSunAltitudePath(e,t){return Yi(this.applicationContext,e,t)}drawCelestialBodyRiseTime(e,t){return Bi(this.applicationContext,e,t)}drawCelestialBodySettingTime(e,t){return Qi(this.applicationContext,e,t)}drawCelestialBodyVisibility(e,t){return Ki(this.applicationContext,e,t)}drawCelestialBodyVisibilityMap(e,t,n){return Xi(this.applicationContext,e,t,n)}drawMultiCelestialBodyVisibilityMap(e,t,n){return ea(this.applicationContext,e,t,n)}}function ta(r,e){return Qe.initialize(r,e)}return z.AstronomySVG=Qe,z.initialize=ta,Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),z}({});
