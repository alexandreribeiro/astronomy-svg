/*! MIT License

Copyright (c) 2025 Alexandre Ribeiro

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
 */
var AstronomySVG=function(W){"use strict";var oa=Object.defineProperty;var la=(W,O,m)=>O in W?oa(W,O,{enumerable:!0,configurable:!0,writable:!0,value:m}):W[O]=m;var wn=(W,O,m)=>la(W,typeof O!="symbol"?O+"":O,m);const O={SOLAR_SYSTEM_OBJECT:"SOLAR_SYSTEM_OBJECT",GREENWICH_OBSERVATORY_COORDINATES:{LATITUDE:51.476852,LONGITUDE:-5e-4,RADIUS:6371046},EPHEMERIS_TYPE:{RISE:{NAME:"RISE",ALTITUDE:"-0.833",IS_GOING_UP:!0},SET:{NAME:"SET",ALTITUDE:"-0.833",IS_GOING_UP:!1},TRANSIT:{NAME:"TRANSIT",ALTITUDE:null,IS_GOING_UP:null},CIVIL_TWILIGHT_START:{NAME:"CIVIL_TWILIGHT_START",ALTITUDE:"-6",IS_GOING_UP:!0},CIVIL_TWILIGHT_END:{NAME:"CIVIL_TWILIGHT_END",ALTITUDE:"-6",IS_GOING_UP:!1},NAUTICAL_TWILIGHT_START:{NAME:"NAUTICAL_TWILIGHT_START",ALTITUDE:"-12",IS_GOING_UP:!0},NAUTICAL_TWILIGHT_END:{NAME:"NAUTICAL_TWILIGHT_END",ALTITUDE:"-12",IS_GOING_UP:!1},ASTRONOMICAL_TWILIGHT_START:{NAME:"ASTRONOMICAL_TWILIGHT_START",ALTITUDE:"-18",IS_GOING_UP:!0},ASTRONOMICAL_TWILIGHT_END:{NAME:"ASTRONOMICAL_TWILIGHT_END",ALTITUDE:"-18",IS_GOING_UP:!1}},MS_PER_DAY:864e5,JULIAN_DAY_OFFSET:24405875e-1,JULIAN_DAY_2000:2451545,EPS:Math.pow(10,-9),NUMBERS_OF_ATTEMPT_TO_GET_POSITIONAL_EPHEMERIS:5,DAYS_PER_JULIAN_CENTURY:36525};class m{static modDegrees(e){for(;e<0;)e=e+360;return e%360}static mod180Degrees(e){const t=this.modDegrees(e);return t>180?t-360:t}static modRadians(e){for(;e<0;)e=e+2*Math.PI;return e%(2*Math.PI)}static modPiRadians(e){const t=this.modRadians(e);return e>Math.PI?t-2*Math.PI:t}static radiansToDegrees(e){return e*180/Math.PI}static degreesToRadians(e){return e*Math.PI/180}static padZero(e){return e=e.toString(),e.length>=2?e:"0"+e}}class q{static julianDate(e){return e/O.MS_PER_DAY+O.JULIAN_DAY_OFFSET}static julianDateToDate(e){return new Date((e-O.JULIAN_DAY_OFFSET)*O.MS_PER_DAY)}static julianDaysSinceEpoch2000(e){return e-O.JULIAN_DAY_2000}static julianCenturiesSinceEpoch2000(e){return this.julianDaysSinceEpoch2000(e)/O.DAYS_PER_JULIAN_CENTURY}static meanSiderealTime(e){const t=this.julianDaysSinceEpoch2000(e),n=this.julianCenturiesSinceEpoch2000(e),i=280.46061837+360.98564736629*t+387933e-9*n*n-n*n*n/3871e4;return m.modDegrees(i)}}class Se{constructor(e,t,n){this.x=e,this.y=t,this.z=n}minus(e){return new Se(this.x-e.x,this.y-e.y,this.z-e.z)}}class J{constructor(e,t,n){this.latitude=e,this.longitude=t,this.radius=n}toDegrees(){let e=this.latitude,t=this.longitude;return new J(`${e<0?"-":""}${m.padZero(0|(e<0?e=-e:e))}° ${m.padZero(0|e%1*60)}' ${m.padZero(0|e*60%1*60)}''`,`${t<0?"-":""}${m.padZero(0|(t<0?t=-t:t))}° ${m.padZero(0|t%1*60)}' ${m.padZero(0|t*60%1*60)}''`,this.radius)}toHours(){let e=this.latitude,t=this.longitude;return new J(`${e<0?"-":""}${m.padZero(0|(e<0?e=-e:e))}° ${m.padZero(0|e%1*60)}' ${m.padZero(0|e*60%1*60)}''`,`${t<0?"-":""}${m.padZero(0|(t<0?t=-t/15:t=t/15))}h ${m.padZero(0|t%1*60)}m ${m.padZero(0|t*60%1*60)}s`,this.radius)}}class Ft{constructor(e,t){this.sphericalCoordinates=e||new J(O.GREENWICH_OBSERVATORY_COORDINATES.LATITUDE,O.GREENWICH_OBSERVATORY_COORDINATES.LONGITUDE,O.GREENWICH_OBSERVATORY_COORDINATES.RADIUS),this.solarSystemObject=t}getRectangularObjectCentricCoordinatesForSolarSystemObject(e,t){return e.getRectangularHeliocentricCoordinates(t).minus(this.solarSystemObject.getRectangularHeliocentricCoordinates(t))}getRectangularEquatorialCoordinatesForSolarSystemObject(e,t){const n=this.getRectangularObjectCentricCoordinatesForSolarSystemObject(e,t),i=m.degreesToRadians(this.solarSystemObject.axialTilt);return new Se(n.x,n.y*Math.cos(i)-n.z*Math.sin(i),n.y*Math.sin(i)+n.z*Math.cos(i))}getDistanceToSolarSystemObject(e,t){const n=this.getRectangularObjectCentricCoordinatesForSolarSystemObject(e,t);return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2)+Math.pow(n.z,2))}getRADecCoordinatesForSolarSystemObject(e,t){const n=this.getRectangularEquatorialCoordinatesForSolarSystemObject(e,t),i=n.x>0&&n.y<0?360:n.x<0?180:0,s=m.radiansToDegrees(Math.atan(n.y/n.x))+i,a=m.radiansToDegrees(Math.atan(n.z/Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))));return new J(a,s,this.getDistanceToSolarSystemObject(e,t))}getHADecCoordinatesForSolarSystemObject(e,t){const n=this.getRectangularEquatorialCoordinatesForSolarSystemObject(e,t),i=n.x>0&&n.y<0?360:n.x<0?180:0,s=m.radiansToDegrees(Math.atan(n.y/n.x))+i,a=m.modDegrees(this.getLocalSiderealTime(t)-s),o=m.radiansToDegrees(Math.atan(n.z/Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))));return new J(o,a,this.getDistanceToSolarSystemObject(e,t))}getAltAzCoordinatesForEquatorialCoordinates(e,t){const n=m.degreesToRadians(m.modDegrees(e.longitude-this.getLocalSiderealTime(t))),i=m.degreesToRadians(this.sphericalCoordinates.latitude),s=m.degreesToRadians(e.latitude),a=m.radiansToDegrees(Math.asin(Math.sin(i)*Math.sin(s)+Math.cos(i)*Math.cos(s)*Math.cos(n))),o=m.radiansToDegrees(Math.PI-Math.atan2(Math.sin(n),Math.cos(n)*Math.sin(i)-Math.tan(s)*Math.cos(i)));return new J(a,o,null)}getLocalSiderealTime(e){return m.modDegrees(q.meanSiderealTime(e)+this.sphericalCoordinates.longitude)}getObjectTransit(e,t){const n=this.getRADecCoordinatesForSolarSystemObject(e,t).longitude;return this.getLocalSiderealTime(t)-n}getObjectLocalHourAngleForAltitude(e,t,n){const i=m.degreesToRadians(this.sphericalCoordinates.latitude),s=m.degreesToRadians(n),a=m.degreesToRadians(this.getRADecCoordinatesForSolarSystemObject(e,t).latitude),o=(Math.sin(s)-Math.sin(i)*Math.sin(a))/(Math.cos(i)*Math.cos(a));return m.radiansToDegrees(Math.acos(o))}getIterationValueForPositionalEphemerisForObject(e,t,n){if(n===O.EPHEMERIS_TYPE.TRANSIT)return t-this.getObjectTransit(e,t)/15/24;{const i=this.getObjectTransit(e,t),s=this.getObjectLocalHourAngleForAltitude(e,t,n.ALTITUDE),a=m.mod180Degrees(n.IS_GOING_UP?i+s:i-s);return t-a/15/24}}iteratePositionalEphemerisForObject(e,t,n){let i=this.getIterationValueForPositionalEphemerisForObject(e,t,n),s=+i;for(let a=0;a<1e3&&(i=this.getIterationValueForPositionalEphemerisForObject(e,i,n),!(Math.abs(i-s)<10^-5));a++)s=i;return q.julianDateToDate(i)}getCorrectDateForPositionalEphemeris(e,t,n,i){const s=this.iteratePositionalEphemerisForObject(e,t,n);if(i>0&&s.getDate()!==q.julianDateToDate(t).getDate()){const a=q.julianDate(s),o=a>t?-1:1;return this.getCorrectDateForPositionalEphemeris(e,a+o,n,i-1)}else return i===0?null:s}getDateForPositionalEphemeris(e,t,n){return this.getCorrectDateForPositionalEphemeris(e,t,n,O.NUMBERS_OF_ATTEMPT_TO_GET_POSITIONAL_EPHEMERIS)}}class pn{constructor(e,t){this.objectType=e,this.name=t}}class z extends pn{constructor(e,t,n,i){super(O.SOLAR_SYSTEM_OBJECT,e),this.orbitalParameters=t,this.meanRadius=n,this.axialTilt=i}getRectangularHeliocentricCoordinates(e){const t=q.julianCenturiesSinceEpoch2000(e),n=m.degreesToRadians(this.orbitalParameters.getInclination(t)),i=m.degreesToRadians(this.orbitalParameters.getTrueAnomaly(t)),s=m.degreesToRadians(this.orbitalParameters.getPerihelion(t)),a=m.degreesToRadians(this.orbitalParameters.getAscendingNode(t)),o=this.orbitalParameters.getOrbitRadius(t),l=i+s-a,u=o*(Math.cos(a)*Math.cos(l)-Math.sin(a)*Math.sin(l)*Math.cos(n)),d=o*(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(n)),f=o*(Math.sin(l)*Math.sin(n));return new Se(u,d,f)}}class _{constructor(e,t,n,i,s,a,o,l,u,d,f,p){this.a0=e,this.e0=t,this.i0=n,this.o0=i,this.w0=s,this.l0=a,this.ac=o,this.ec=l,this.ic=u,this.oc=d,this.wc=f,this.lc=p}getSemiMajorAxis(e){return this.a0+this.ac*e}getEccentricity(e){return this.e0+this.ec*e}getInclination(e){return m.modDegrees(this.i0+this.ic/3600*e)}getAscendingNode(e){return m.modDegrees(this.o0+this.oc/3600*e)}getPerihelion(e){return m.modDegrees(this.w0+this.wc/3600*e)}getMeanLongitude(e){return m.modDegrees(this.l0+this.lc/3600*e)}getMeanAnomaly(e){return m.modDegrees(this.getMeanLongitude(e)-this.getPerihelion(e))}getEccentricAnomaly(e){const t=m.degreesToRadians(this.getMeanAnomaly(e)),n=this.getEccentricity(e);let i=t+n*Math.sin(t)*(1+n*Math.cos(t)),s=0,a=0,o=0;for(;o++<1e4&&(s=i-(i-n*Math.sin(i)-t)/(1-n*Math.cos(i)),a=s-i,i=s,!(Math.abs(a)<=O.EPS)););return m.radiansToDegrees(s)}getTrueAnomaly(e){const t=this.getEccentricity(e),n=m.degreesToRadians(this.getEccentricAnomaly(e)),i=2*Math.atan(Math.sqrt((1+t)/(1-t))*Math.tan(.5*n));return m.radiansToDegrees(i)}getOrbitRadius(e){const t=this.getSemiMajorAxis(e),n=this.getEccentricity(e),i=this.getTrueAnomaly(e);return t*(1-Math.pow(n,2))/(1+n*Math.cos(m.degreesToRadians(i)))}}class Tn extends z{constructor(){const e=new _(.38709893,.20563069,7.00487,48.33167,77.45645,252.25084,66e-8,2527e-8,-23.51,-446.3,573.57,53810162829e-2);super("Mercury",e,2439700,2.04)}}class Sn extends z{constructor(){const e=new _(.72333199,.00677323,3.39471,76.68069,131.53298,181.97973,92e-8,-4938e-8,-2.86,-996.89,-108.8,21066413606e-2);super("Venus",e,6051800,2.64)}}class kn extends z{constructor(){const e=new _(1.00000011,.01671022,5e-5,-11.26064,102.94719,100.46435,-5e-8,-3804e-8,-46.94,-18228.25,1198.28,12959774063e-2);super("Earth",e,6371e3,23.439281)}}class On extends z{constructor(){const e=new _(1.52366231,.09341233,1.85061,49.57854,336.04084,355.45332,-7221e-8,11902e-8,-25.47,-1020.19,1560.78,6890510378e-2);super("Mars",e,3389500,25.19)}}class bn extends z{constructor(){const e=new _(5.20336301,.04839266,1.3053,100.55615,14.75385,34.40438,60737e-8,-1288e-7,-4.15,1217.17,839.93,1092507835e-2);super("Jupiter",e,69911e3,3.13)}}class xn extends z{constructor(){const e=new _(9.53707032,.0541506,2.48446,113.71504,92.43194,49.94432,-.0030153,-36762e-8,6.11,-1591.05,-1948.89,440105295e-2);super("Saturn",e,58232e3,26.73)}}class En extends z{constructor(){const e=new _(19.19126393,.04716771,.76986,74.22988,170.96424,313.23218,.00152025,-1915e-7,-2.09,-1681.4,1312.56,154254779e-2);super("Uranus",e,25362e3,97.77)}}class Mn extends z{constructor(){const e=new _(30.06896348,.00858587,1.76917,131.72169,44.97135,304.88003,-.00125196,251e-7,-3.64,-151.25,-844.43,786449.21);super("Neptune",e,24622e3,28.32)}}const In=[new Tn,new Sn,new kn,new On,new bn,new xn,new En,new Mn];class Dn extends z{constructor(){const e=new _(39.48168677,.24880766,17.14175,110.30347,113.76329,238.92881,-207e-10,6465e-8,501e-8,-37.033,7.765,145.2078);super("Pluto",e,1188300,122.53)}}const Nn=[new Dn];class vn extends z{constructor(){super("Sun",null,695508e3)}getRectangularHeliocentricCoordinates(e){return new Se(0,0,0)}}const An=[new vn].concat(In).concat(Nn);class Xe{constructor(){this.skyObjects=[...An],this.astronomicalCalculator=new Ft,this.julianDate=null,this.date=null}getJulianDate(){return this.julianDate}setJulianDate(e){this.julianDate=e}getDate(){return this.date}setDate(e){this.date=e,this.setJulianDate(q.julianDate(e))}getSkyObjectByName(e){return this.skyObjects.find(t=>t.name===e)||null}getEphemerisTypeByName(e){return Object.values(O.EPHEMERIS_TYPE).find(t=>t.NAME===e)||null}setLocation(e,t,n,i){const s=this.getSkyObjectByName(e);if(!s)throw new Error(`Solar system object "${e}" not found`);this.astronomicalCalculator=new Ft(new J(t,n,s.meanRadius+i),s)}getLatitudeLongitudeCoordinates(){return{latitude:this.astronomicalCalculator.sphericalCoordinates.latitude,longitude:this.astronomicalCalculator.sphericalCoordinates.longitude}}getRADecCoordinatesForObject(e){const t=this.getSkyObjectByName(e);if(!t||this.julianDate===null)throw new Error("Invalid object name or Julian date not set");return this.astronomicalCalculator.getRADecCoordinatesForSolarSystemObject(t,this.julianDate)}getHADecCoordinatesForObject(e){const t=this.getSkyObjectByName(e);if(!t||this.julianDate===null)throw new Error("Invalid object name or Julian date not set");return this.astronomicalCalculator.getHADecCoordinatesForSolarSystemObject(t,this.julianDate)}getAltAzCoordinatesForObject(e,t){const n=this.getSkyObjectByName(e);if(!n)throw new Error(`Object "${e}" not found`);const i=t?q.julianDate(t):this.julianDate;if(i===null)throw new Error("Reference date not set");const s=this.astronomicalCalculator.getRADecCoordinatesForSolarSystemObject(n,i);return this.astronomicalCalculator.getAltAzCoordinatesForEquatorialCoordinates(s,i)}static initialize(e,t){let n=new Xe;return n.setLocation("Earth",e,t,0),n.setDate(new Date),n}getEphemerisDateForObject(e,t,n){const i=this.getSkyObjectByName(e),s=this.getEphemerisTypeByName(n);if(!i||!s)throw new Error("Invalid object name or ephemeris type");return this.astronomicalCalculator.getDateForPositionalEphemeris(i,q.julianDate(t),s)}}function G(r,e){return`<svg viewBox="0 0 1000 1000" width="${r}" height="${r}"
        xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="${e}" />`}function Cn(r,e){return`<svg viewBox="0 0 2000 1000" width="${r}" height="${r/2}"
        xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="${e}" />`}function H(){return"</svg>"}function j(r,e){let t=e?Pn():"";return r==="Sun"?t+=Fn():r==="Mercury"?t+=$n():r==="Venus"?t+=Ln():r==="Mars"?t+=Vn():r==="Jupiter"?t+=Rn():r==="Saturn"?t+=Wn():r==="Uranus"?t+=zn():r==="Neptune"?t+=Zn():r==="Pluto"&&(t+=Un()),t+=e?_n():"",t}function Fn(){return`
        <!-- Sun body -->
        <circle cx="500" cy="278" r="139" fill="#f4a300" />
        <!-- Sun rays -->
        <g stroke="#e69500" stroke-width="21" stroke-linecap="round">
            <line x1="500" y1="111" x2="500" y2="69" />
            <line x1="500" y1="445" x2="500" y2="486" />
            <line x1="333" y1="278" x2="292" y2="278" />
            <line x1="667" y1="278" x2="708" y2="278" />
            <line x1="403" y1="181" x2="375" y2="153" />
            <line x1="597" y1="181" x2="625" y2="153" />
            <line x1="403" y1="375" x2="375" y2="403" />
            <line x1="597" y1="375" x2="625" y2="403" />
        </g>`}function $n(){return`
    <!-- Mercury base -->
    <circle cx="500" cy="278" r="139" fill="#b0a59f" />

    <!-- Craters across surface, including near edges -->
    <circle cx="470" cy="230" r="14" fill="#72655f" opacity="0.70" />
    <circle cx="530" cy="250" r="12" fill="#5e524e" opacity="0.75" />
    <circle cx="490" cy="305" r="11" fill="#6a5c58" opacity="0.68" />
    <circle cx="455" cy="275" r="10" fill="#4f4541" opacity="0.65" />
    <circle cx="520" cy="325" r="9" fill="#6c615c" opacity="0.70" />
    <circle cx="540" cy="215" r="13" fill="#645954" opacity="0.72" />

    <!-- Near-edge craters -->
    <circle cx="390" cy="278" r="8" fill="#72655f" opacity="0.70" />
    <circle cx="610" cy="278" r="9" fill="#5e524e" opacity="0.73" />
    <circle cx="500" cy="139" r="10" fill="#6c615c" opacity="0.68" />
    <circle cx="500" cy="417" r="11" fill="#4f4541" opacity="0.70" />
    <circle cx="410" cy="185" r="8" fill="#6a5c58" opacity="0.67" />
    <circle cx="590" cy="365" r="9" fill="#645954" opacity="0.72" />
  `}function Ln(){return`
    <!-- Venus base -->
    <circle cx="500" cy="278" r="139" fill="#e5c07b" />

    <!-- Thicker cloud bands -->
    <ellipse cx="500" cy="240" rx="139" ry="18" fill="#d4b06a" opacity="0.35" />
    <ellipse cx="500" cy="278" rx="139" ry="20" fill="#c8a158" opacity="0.3" />
    <ellipse cx="500" cy="315" rx="139" ry="16" fill="#b89249" opacity="0.25" />

    <!-- Swirl features -->
    <circle cx="470" cy="250" r="20" fill="#b88e3b" opacity="0.3" />

    <!-- Polar glow (top and bottom) -->
    <ellipse cx="500" cy="160" rx="60" ry="20" fill="white" opacity="0.4" />
    <ellipse cx="500" cy="400" rx="60" ry="20" fill="white" opacity="0.4" />
  `}function Vn(){return`<circle cx="500" cy="278" r="139" fill="#d2691e" />
          <!-- Ice cap (ellipse) -->
          <ellipse cx="500" cy="167" rx="42" ry="21" fill="white" opacity="0.9" />
          <!-- Surface features -->
          <circle cx="458" cy="236" r="21" fill="#a0522d" />
          <circle cx="542" cy="319" r="17.35" fill="#a0522d" />
          <circle cx="514" cy="250" r="13.9" fill="#cd853f" />
          <circle cx="472" cy="306" r="10.4" fill="#cd853f" />`}function Rn(){return`
    <!-- Jupiter base -->
    <circle cx="500" cy="278" r="139" fill="#d2b48c" />

    <!-- Symmetrical medium bands -->
    <ellipse cx="500" cy="248" rx="139" ry="12" fill="#c89b76" opacity="0.85" />
    <ellipse cx="500" cy="278" rx="139" ry="10" fill="#ba8c6e" opacity="0.85" />
    <ellipse cx="500" cy="308" rx="139" ry="12" fill="#c89b76" opacity="0.85" />

    <!-- Great Red Spot -->
    <ellipse cx="570" cy="305" rx="20" ry="12" fill="#cc543a" />
    
    <ellipse cx="500" cy="170" rx="60" ry="30" fill="#ba8c6e" opacity="0.7" />
  `}function Wn(){return`
    <!-- Rings behind -->
    <g transform="rotate(-25 500 278)">
      <ellipse cx="500" cy="278" rx="220" ry="50" fill="none" stroke="#e6e6e6" stroke-width="20" opacity="0.5" />
      <ellipse cx="500" cy="278" rx="250" ry="55" fill="none" stroke="#f2f2f2" stroke-width="12" opacity="0.4" />
    </g>

    <!-- Saturn base (on top of back rings) -->
    <circle cx="500" cy="278" r="139" fill="#d8c48f" />

    <!-- Atmospheric bands -->
    <ellipse cx="500" cy="260" rx="139" ry="12" fill="#c9b87e" opacity="0.5" />
    <ellipse cx="500" cy="278" rx="139" ry="14" fill="#bcae6f" opacity="0.5" />
    <ellipse cx="500" cy="296" rx="139" ry="12" fill="#b1a460" opacity="0.45" />

    <!-- Polar glow -->
    <ellipse cx="500" cy="139" rx="60" ry="20" fill="white" opacity="0.15" />
    <ellipse cx="500" cy="417" rx="60" ry="20" fill="white" opacity="0.15" />

    <!-- Rings front -->
    <g transform="rotate(-25 500 278)">
      <ellipse cx="500" cy="278" rx="220" ry="50" fill="none" stroke="#f5f5f5" stroke-width="14" opacity="0.7" />
      <ellipse cx="500" cy="278" rx="250" ry="55" fill="none" stroke="#ffffff" stroke-width="8" opacity="0.5" />
    </g>
  `}function zn(){return`
    <!-- Uranus base -->
    <circle cx="500" cy="278" r="139" fill="#7fdbff" />

    <!-- Atmospheric subtle bands -->
    <ellipse cx="500" cy="260" rx="139" ry="12" fill="#6ec8e9" opacity="0.4" />
    <ellipse cx="500" cy="278" rx="139" ry="14" fill="#62b4d8" opacity="0.4" />
    <ellipse cx="500" cy="296" rx="139" ry="12" fill="#5aa2c6" opacity="0.35" />

    <!-- Polar glow -->
    <ellipse cx="500" cy="139" rx="60" ry="20" fill="white" opacity="0.12" />
    <ellipse cx="500" cy="417" rx="60" ry="20" fill="white" opacity="0.12" />

    <!-- Small swirl / cloud feature -->
    <circle cx="460" cy="290" r="20" fill="#54a3b9" opacity="0.5" />
    <circle cx="540" cy="260" r="17" fill="#6dc3e3" opacity="0.45" />
  `}function Zn(){return`
    <!-- Neptune base -->
    <circle cx="500" cy="278" r="139" fill="#3b5ca8" />

    <!-- Atmospheric subtle bands -->
    <ellipse cx="500" cy="260" rx="139" ry="12" fill="#345292" opacity="0.45" />
    <ellipse cx="500" cy="278" rx="139" ry="14" fill="#2f4b7f" opacity="0.45" />
    <ellipse cx="500" cy="296" rx="139" ry="12" fill="#2a456f" opacity="0.4" />

    <!-- Polar glow -->
    <ellipse cx="500" cy="139" rx="60" ry="20" fill="white" opacity="0.1" />
    <ellipse cx="500" cy="417" rx="60" ry="20" fill="white" opacity="0.1" />

    <!-- Cloud spots -->
    <circle cx="460" cy="290" r="25" fill="#4064c7" opacity="0.6" />
    <circle cx="530" cy="250" r="20" fill="#4a71d2" opacity="0.55" />
    <circle cx="520" cy="320" r="15" fill="#3a56a0" opacity="0.5" />
  `}function Un(){return`
    <!-- Pluto base -->
    <circle cx="500" cy="278" r="139" fill="#c2b29e" />

    <!-- Surface patches -->
    <circle cx="460" cy="290" r="25" fill="#a89987" opacity="0.7" />
    <circle cx="540" cy="260" r="20" fill="#bfb7a8" opacity="0.65" />
    <circle cx="520" cy="320" r="15" fill="#9f8f7d" opacity="0.6" />
    <circle cx="480" cy="310" r="10" fill="#b0a596" opacity="0.6" />

    <!-- Icy heart -->
    <path
      d="
        M 500 300
        C 500 250, 440 250, 440 300
        C 440 350, 500 370, 500 400
        C 500 370, 560 350, 560 300
        C 560 250, 500 250, 500 300
        Z
      "
      fill="#e9e6e1"
      opacity="0.9"
    />

    <!-- Slight shadow for depth -->
    <ellipse cx="470" cy="320" rx="100" ry="50" fill="black" opacity="0.1" />
  `}function Pn(){return`<defs>
    <filter id="grayscale">
        <feColorMatrix type="saturate" values="0" />
    </filter>
    </defs>
    <g filter="url(#grayscale)">`}function _n(){return"</g>"}function Gn(r){const e=["N","NE","E","SE","S","SW","W","NW"],t=(r%360+360)%360,n=Math.floor((t+22.5)/45)%8;return e[n]}function $t(r,e){return`${r.toFixed(1)} ${r>e?"▲":r<e?"▼":""}`}function Lt(r){return`${r.toFixed(1)} ${Gn(r)}`}function B(r){return`<text x="500" y="660" font-size="139" text-anchor="middle"
              fill="white" font-family="Verdana" dominant-baseline="middle">
        ${r}
        </text>`}function Q(r){return`<text x="500" y="833" font-size="139" text-anchor="middle"
                fill="white" font-family="Verdana" dominant-baseline="middle">
          ${r}
          </text>`}function Hn(r){return`<text x="50" y="150" font-size="139" text-anchor="start"
              fill="white" font-family="Verdana" dominant-baseline="middle">
        ${r}
        </text>`}function jn(r,e,t){let i=r.astronomyJS.getAltAzCoordinatesForObject(e).longitude,s=G(t,"black");return s+=j(e),s+=B("Azimuth"),s+=Q(Lt(i)),s+=H(),s}function Yn(r,e,t){let n=r.astronomyJS,i=n.getAltAzCoordinatesForObject(e).latitude,s=n.getAltAzCoordinatesForObject(e,new Date(n.getDate()-5*60*1e3)).latitude,a=G(t,"black");return a+=j(e),a+=B("Altitude"),a+=Q($t(i,s)),a+=H(),a}function Vt(r){const e=parseInt(r.slice(1),16);return{r:e>>16&255,g:e>>8&255,b:e&255}}function qn({r,g:e,b:t}){return"#"+[r,e,t].map(n=>n.toString(16).padStart(2,"0")).join("")}function et(r,e,t){return r+(e-r)*t}function Le(r,e,t){return(t-r)/(e-r)}function Ve(r,e,t){const n=Vt(r),i=Vt(e);return qn({r:Math.round(et(n.r,i.r,t)),g:Math.round(et(n.g,i.g,t)),b:Math.round(et(n.b,i.b,t))})}function tt(r){const e=Jn(r),t=Rt(r),n=Le(e.limit,t.limit,r),i=Ve(e.top,t.top,n),s=Ve(e.bottom,t.bottom,n);return`<defs>
            <linearGradient id="sky-${r}" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="${i}" />
                <stop offset="55%" stop-color="${i}" />
                <stop offset="100%" stop-color="${s}" />
            </linearGradient></defs>`}function Rt(r){return r<=-18?{top:"#0b0c1a",bottom:"#0b0c1a",limit:-18}:r<=-15?{top:"#0b0c1a",bottom:"#101734",limit:-15}:r<=-12?{top:"#171c27",bottom:"#282e3c",limit:-12}:r<=-9?{top:"#171c29",bottom:"#525662",limit:-9}:r<=-6?{top:"#4e545f",bottom:"#b9a76c",limit:-6}:r<=-3?{top:"#909798",bottom:"#f9d92b",limit:-3}:r<=0?{top:"#b6d8ed",bottom:"#f6da3f",limit:0}:r<=10?{top:"#bcd6fc",bottom:"#98d5fc",limit:10}:{top:"#cce8fd",bottom:"#98d5fc",limit:90}}function Jn(r){return r<=-18?{top:"#0b0c1a",bottom:"#0b0c1a",limit:-90}:r<=-15?{top:"#0b0c1a",bottom:"#0b0c1a",limit:-18}:r<=-12?{top:"#0b0c1a",bottom:"#101734",limit:-15}:r<=-9?{top:"#171c27",bottom:"#282e3c",limit:-12}:r<=-6?{top:"#171c29",bottom:"#525662",limit:-9}:r<=-3?{top:"#4e545f",bottom:"#b9a76c",limit:-6}:r<=0?{top:"#909798",bottom:"#f9d92b",limit:-3}:r<=10?{top:"#b6d8ed",bottom:"#f6da3f",limit:0}:{top:"#bcd6fc",bottom:"#98d5fc",limit:10}}class ne extends Error{}class Bn extends ne{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Qn extends ne{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Kn extends ne{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ue extends ne{}class Wt extends ne{constructor(e){super(`Invalid unit ${e}`)}}class M extends ne{}class K extends ne{constructor(){super("Zone is an abstract class")}}const c="numeric",$="short",v="long",Re={year:c,month:c,day:c},zt={year:c,month:$,day:c},Xn={year:c,month:$,day:c,weekday:$},Zt={year:c,month:v,day:c},Ut={year:c,month:v,day:c,weekday:v},Pt={hour:c,minute:c},_t={hour:c,minute:c,second:c},Gt={hour:c,minute:c,second:c,timeZoneName:$},Ht={hour:c,minute:c,second:c,timeZoneName:v},jt={hour:c,minute:c,hourCycle:"h23"},Yt={hour:c,minute:c,second:c,hourCycle:"h23"},qt={hour:c,minute:c,second:c,hourCycle:"h23",timeZoneName:$},Jt={hour:c,minute:c,second:c,hourCycle:"h23",timeZoneName:v},Bt={year:c,month:c,day:c,hour:c,minute:c},Qt={year:c,month:c,day:c,hour:c,minute:c,second:c},Kt={year:c,month:$,day:c,hour:c,minute:c},Xt={year:c,month:$,day:c,hour:c,minute:c,second:c},ei={year:c,month:$,day:c,weekday:$,hour:c,minute:c},er={year:c,month:v,day:c,hour:c,minute:c,timeZoneName:$},tr={year:c,month:v,day:c,hour:c,minute:c,second:c,timeZoneName:$},rr={year:c,month:v,day:c,weekday:v,hour:c,minute:c,timeZoneName:v},nr={year:c,month:v,day:c,weekday:v,hour:c,minute:c,second:c,timeZoneName:v};class ke{get type(){throw new K}get name(){throw new K}get ianaName(){return this.name}get isUniversal(){throw new K}offsetName(e,t){throw new K}formatOffset(e,t){throw new K}offset(e){throw new K}equals(e){throw new K}get isValid(){throw new K}}let rt=null;class We extends ke{static get instance(){return rt===null&&(rt=new We),rt}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Nr(e,t,n)}formatOffset(e,t){return Ee(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const nt=new Map;function ti(r){let e=nt.get(r);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),nt.set(r,e)),e}const ri={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ni(r,e){const t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,s,a,o,l,u,d]=n;return[a,i,s,o,l,u,d]}function ii(r,e){const t=r.formatToParts(e),n=[];for(let i=0;i<t.length;i++){const{type:s,value:a}=t[i],o=ri[s];s==="era"?n[o]=a:y(o)||(n[o]=parseInt(a,10))}return n}const it=new Map;class Y extends ke{static create(e){let t=it.get(e);return t===void 0&&it.set(e,t=new Y(e)),t}static resetCache(){it.clear(),nt.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Y.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return Nr(e,t,n,this.name)}formatOffset(e,t){return Ee(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const n=ti(this.name);let[i,s,a,o,l,u,d]=n.formatToParts?ii(n,t):ni(n,t);o==="BC"&&(i=-Math.abs(i)+1);const p=_e({year:i,month:s,day:a,hour:l===24?0:l,minute:u,second:d,millisecond:0});let h=+t;const k=h%1e3;return h-=k>=0?k:1e3+k,(p-h)/6e4}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let ir={};function si(r,e={}){const t=JSON.stringify([r,e]);let n=ir[t];return n||(n=new Intl.ListFormat(r,e),ir[t]=n),n}const st=new Map;function at(r,e={}){const t=JSON.stringify([r,e]);let n=st.get(t);return n===void 0&&(n=new Intl.DateTimeFormat(r,e),st.set(t,n)),n}const ot=new Map;function ai(r,e={}){const t=JSON.stringify([r,e]);let n=ot.get(t);return n===void 0&&(n=new Intl.NumberFormat(r,e),ot.set(t,n)),n}const lt=new Map;function oi(r,e={}){const{base:t,...n}=e,i=JSON.stringify([r,n]);let s=lt.get(i);return s===void 0&&(s=new Intl.RelativeTimeFormat(r,e),lt.set(i,s)),s}let Oe=null;function li(){return Oe||(Oe=new Intl.DateTimeFormat().resolvedOptions().locale,Oe)}const ut=new Map;function sr(r){let e=ut.get(r);return e===void 0&&(e=new Intl.DateTimeFormat(r).resolvedOptions(),ut.set(r,e)),e}const ct=new Map;function ui(r){let e=ct.get(r);if(!e){const t=new Intl.Locale(r);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,"minimalDays"in e||(e={...ar,...e}),ct.set(r,e)}return e}function ci(r){const e=r.indexOf("-x-");e!==-1&&(r=r.substring(0,e));const t=r.indexOf("-u-");if(t===-1)return[r];{let n,i;try{n=at(r).resolvedOptions(),i=r}catch{const l=r.substring(0,t);n=at(l).resolvedOptions(),i=l}const{numberingSystem:s,calendar:a}=n;return[i,s,a]}}function fi(r,e,t){return(t||e)&&(r.includes("-u-")||(r+="-u"),t&&(r+=`-ca-${t}`),e&&(r+=`-nu-${e}`)),r}function di(r){const e=[];for(let t=1;t<=12;t++){const n=g.utc(2009,t,1);e.push(r(n))}return e}function hi(r){const e=[];for(let t=1;t<=7;t++){const n=g.utc(2016,11,13+t);e.push(r(n))}return e}function ze(r,e,t,n){const i=r.listingMode();return i==="error"?null:i==="en"?t(e):n(e)}function mi(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||sr(r.locale).numberingSystem==="latn"}class yi{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:i,floor:s,...a}=n;if(!t||Object.keys(a).length>0){const o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=ai(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Tt(e,3);return E(t,this.padTo)}}}class gi{constructor(e,t,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&Y.create(o).valid?(i=o,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=at(t,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:n}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class wi{constructor(e,t,n){this.opts={style:"long",...n},!t&&Er()&&(this.rtf=oi(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):zi(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const ar={firstDay:1,minimalDays:4,weekend:[6,7]};class S{static fromOpts(e){return S.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,i,s=!1){const a=e||b.defaultLocale,o=a||(s?"en-US":li()),l=t||b.defaultNumberingSystem,u=n||b.defaultOutputCalendar,d=wt(i)||b.defaultWeekSettings;return new S(o,l,u,d,a)}static resetCache(){Oe=null,st.clear(),ot.clear(),lt.clear(),ut.clear(),ct.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:i}={}){return S.create(e,t,n,i)}constructor(e,t,n,i,s){const[a,o,l]=ci(e);this.locale=a,this.numberingSystem=t||o||null,this.outputCalendar=n||l||null,this.weekSettings=i,this.intl=fi(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=mi(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:S.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,wt(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return ze(this,e,Cr,()=>{const n=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=di(s=>this.extract(s,n,"month"))),this.monthsCache[i][e]})}weekdays(e,t=!1){return ze(this,e,Lr,()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=hi(s=>this.extract(s,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return ze(this,void 0,()=>Vr,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[g.utc(2016,11,13,9),g.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return ze(this,e,Rr,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[g.utc(-40,1,1),g.utc(2017,1,1)].map(n=>this.extract(n,t,"era"))),this.eraCache[e]})}extract(e,t,n){const i=this.dtFormatter(e,t),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===n);return a?a.value:null}numberFormatter(e={}){return new yi(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new gi(e,this.intl,t)}relFormatter(e={}){return new wi(this.intl,this.isEnglish(),e)}listFormatter(e={}){return si(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||sr(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Mr()?ui(this.locale):ar}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let ft=null;class D extends ke{static get utcInstance(){return ft===null&&(ft=new D(0)),ft}static instance(e){return e===0?D.utcInstance:new D(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new D(Ge(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ee(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ee(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Ee(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class pi extends ke{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function X(r,e){if(y(r)||r===null)return e;if(r instanceof ke)return r;if(xi(r)){const t=r.toLowerCase();return t==="default"?e:t==="local"||t==="system"?We.instance:t==="utc"||t==="gmt"?D.utcInstance:D.parseSpecifier(t)||Y.create(r)}else return ee(r)?D.instance(r):typeof r=="object"&&"offset"in r&&typeof r.offset=="function"?r:new pi(r)}const dt={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},or={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ti=dt.hanidec.replace(/[\[|\]]/g,"").split("");function Si(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let t=0;t<r.length;t++){const n=r.charCodeAt(t);if(r[t].search(dt.hanidec)!==-1)e+=Ti.indexOf(r[t]);else for(const i in or){const[s,a]=or[i];n>=s&&n<=a&&(e+=n-s)}}return parseInt(e,10)}else return e}const ht=new Map;function ki(){ht.clear()}function L({numberingSystem:r},e=""){const t=r||"latn";let n=ht.get(t);n===void 0&&(n=new Map,ht.set(t,n));let i=n.get(e);return i===void 0&&(i=new RegExp(`${dt[t]}${e}`),n.set(e,i)),i}let lr=()=>Date.now(),ur="system",cr=null,fr=null,dr=null,hr=60,mr,yr=null;class b{static get now(){return lr}static set now(e){lr=e}static set defaultZone(e){ur=e}static get defaultZone(){return X(ur,We.instance)}static get defaultLocale(){return cr}static set defaultLocale(e){cr=e}static get defaultNumberingSystem(){return fr}static set defaultNumberingSystem(e){fr=e}static get defaultOutputCalendar(){return dr}static set defaultOutputCalendar(e){dr=e}static get defaultWeekSettings(){return yr}static set defaultWeekSettings(e){yr=wt(e)}static get twoDigitCutoffYear(){return hr}static set twoDigitCutoffYear(e){hr=e%100}static get throwOnInvalid(){return mr}static set throwOnInvalid(e){mr=e}static resetCaches(){S.resetCache(),Y.resetCache(),g.resetCache(),ki()}}class V{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const gr=[0,31,59,90,120,151,181,212,243,273,304,334],wr=[0,31,60,91,121,152,182,213,244,274,305,335];function A(r,e){return new V("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function mt(r,e,t){const n=new Date(Date.UTC(r,e-1,t));r<100&&r>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return i===0?7:i}function pr(r,e,t){return t+(be(r)?wr:gr)[e-1]}function Tr(r,e){const t=be(r)?wr:gr,n=t.findIndex(s=>s<e),i=e-t[n];return{month:n+1,day:i}}function yt(r,e){return(r-e+7)%7+1}function Ze(r,e=4,t=1){const{year:n,month:i,day:s}=r,a=pr(n,i,s),o=yt(mt(n,i,s),t);let l=Math.floor((a-o+14-e)/7),u;return l<1?(u=n-1,l=xe(u,e,t)):l>xe(n,e,t)?(u=n+1,l=1):u=n,{weekYear:u,weekNumber:l,weekday:o,...je(r)}}function Sr(r,e=4,t=1){const{weekYear:n,weekNumber:i,weekday:s}=r,a=yt(mt(n,1,e),t),o=fe(n);let l=i*7+s-a-7+e,u;l<1?(u=n-1,l+=fe(u)):l>o?(u=n+1,l-=fe(n)):u=n;const{month:d,day:f}=Tr(u,l);return{year:u,month:d,day:f,...je(r)}}function gt(r){const{year:e,month:t,day:n}=r,i=pr(e,t,n);return{year:e,ordinal:i,...je(r)}}function kr(r){const{year:e,ordinal:t}=r,{month:n,day:i}=Tr(e,t);return{year:e,month:n,day:i,...je(r)}}function Or(r,e){if(!y(r.localWeekday)||!y(r.localWeekNumber)||!y(r.localWeekYear)){if(!y(r.weekday)||!y(r.weekNumber)||!y(r.weekYear))throw new ue("Cannot mix locale-based week fields with ISO-based week fields");return y(r.localWeekday)||(r.weekday=r.localWeekday),y(r.localWeekNumber)||(r.weekNumber=r.localWeekNumber),y(r.localWeekYear)||(r.weekYear=r.localWeekYear),delete r.localWeekday,delete r.localWeekNumber,delete r.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Oi(r,e=4,t=1){const n=Ue(r.weekYear),i=C(r.weekNumber,1,xe(r.weekYear,e,t)),s=C(r.weekday,1,7);return n?i?s?!1:A("weekday",r.weekday):A("week",r.weekNumber):A("weekYear",r.weekYear)}function bi(r){const e=Ue(r.year),t=C(r.ordinal,1,fe(r.year));return e?t?!1:A("ordinal",r.ordinal):A("year",r.year)}function br(r){const e=Ue(r.year),t=C(r.month,1,12),n=C(r.day,1,Pe(r.year,r.month));return e?t?n?!1:A("day",r.day):A("month",r.month):A("year",r.year)}function xr(r){const{hour:e,minute:t,second:n,millisecond:i}=r,s=C(e,0,23)||e===24&&t===0&&n===0&&i===0,a=C(t,0,59),o=C(n,0,59),l=C(i,0,999);return s?a?o?l?!1:A("millisecond",i):A("second",n):A("minute",t):A("hour",e)}function y(r){return typeof r>"u"}function ee(r){return typeof r=="number"}function Ue(r){return typeof r=="number"&&r%1===0}function xi(r){return typeof r=="string"}function Ei(r){return Object.prototype.toString.call(r)==="[object Date]"}function Er(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Mr(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Mi(r){return Array.isArray(r)?r:[r]}function Ir(r,e,t){if(r.length!==0)return r.reduce((n,i)=>{const s=[e(i),i];return n&&t(n[0],s[0])===n[0]?n:s},null)[1]}function Ii(r,e){return e.reduce((t,n)=>(t[n]=r[n],t),{})}function ce(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function wt(r){if(r==null)return null;if(typeof r!="object")throw new M("Week settings must be an object");if(!C(r.firstDay,1,7)||!C(r.minimalDays,1,7)||!Array.isArray(r.weekend)||r.weekend.some(e=>!C(e,1,7)))throw new M("Invalid week settings");return{firstDay:r.firstDay,minimalDays:r.minimalDays,weekend:Array.from(r.weekend)}}function C(r,e,t){return Ue(r)&&r>=e&&r<=t}function Di(r,e){return r-e*Math.floor(r/e)}function E(r,e=2){const t=r<0;let n;return t?n="-"+(""+-r).padStart(e,"0"):n=(""+r).padStart(e,"0"),n}function te(r){if(!(y(r)||r===null||r===""))return parseInt(r,10)}function ie(r){if(!(y(r)||r===null||r===""))return parseFloat(r)}function pt(r){if(!(y(r)||r===null||r==="")){const e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function Tt(r,e,t=!1){const n=10**e;return(t?Math.trunc:Math.round)(r*n)/n}function be(r){return r%4===0&&(r%100!==0||r%400===0)}function fe(r){return be(r)?366:365}function Pe(r,e){const t=Di(e-1,12)+1,n=r+(e-t)/12;return t===2?be(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function _e(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(r.year,r.month-1,r.day)),+e}function Dr(r,e,t){return-yt(mt(r,1,e),t)+e-1}function xe(r,e=4,t=1){const n=Dr(r,e,t),i=Dr(r+1,e,t);return(fe(r)-n+i)/7}function St(r){return r>99?r:r>b.twoDigitCutoffYear?1900+r:2e3+r}function Nr(r,e,t,n=null){const i=new Date(r),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(t,a).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function Ge(r,e){let t=parseInt(r,10);Number.isNaN(t)&&(t=0);const n=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-n:n;return t*60+i}function vr(r){const e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new M(`Invalid unit value ${r}`);return e}function He(r,e){const t={};for(const n in r)if(ce(r,n)){const i=r[n];if(i==null)continue;t[e(n)]=vr(i)}return t}function Ee(r,e){const t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),i=r>=0?"+":"-";switch(e){case"short":return`${i}${E(t,2)}:${E(n,2)}`;case"narrow":return`${i}${t}${n>0?`:${n}`:""}`;case"techie":return`${i}${E(t,2)}${E(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function je(r){return Ii(r,["hour","minute","second","millisecond"])}const Ni=["January","February","March","April","May","June","July","August","September","October","November","December"],Ar=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],vi=["J","F","M","A","M","J","J","A","S","O","N","D"];function Cr(r){switch(r){case"narrow":return[...vi];case"short":return[...Ar];case"long":return[...Ni];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Fr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$r=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ai=["M","T","W","T","F","S","S"];function Lr(r){switch(r){case"narrow":return[...Ai];case"short":return[...$r];case"long":return[...Fr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Vr=["AM","PM"],Ci=["Before Christ","Anno Domini"],Fi=["BC","AD"],$i=["B","A"];function Rr(r){switch(r){case"narrow":return[...$i];case"short":return[...Fi];case"long":return[...Ci];default:return null}}function Li(r){return Vr[r.hour<12?0:1]}function Vi(r,e){return Lr(e)[r.weekday-1]}function Ri(r,e){return Cr(e)[r.month-1]}function Wi(r,e){return Rr(e)[r.year<0?0:1]}function zi(r,e,t="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&s){const f=r==="days";switch(e){case 1:return f?"tomorrow":`next ${i[r][0]}`;case-1:return f?"yesterday":`last ${i[r][0]}`;case 0:return f?"today":`this ${i[r][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,u=i[r],d=n?l?u[1]:u[2]||u[1]:l?i[r][0]:r;return a?`${o} ${d} ago`:`in ${o} ${d}`}function Wr(r,e){let t="";for(const n of r)n.literal?t+=n.val:t+=e(n.val);return t}const Zi={D:Re,DD:zt,DDD:Zt,DDDD:Ut,t:Pt,tt:_t,ttt:Gt,tttt:Ht,T:jt,TT:Yt,TTT:qt,TTTT:Jt,f:Bt,ff:Kt,fff:er,ffff:rr,F:Qt,FF:Xt,FFF:tr,FFFF:nr};class I{static create(e,t={}){return new I(e,t)}static parseFormat(e){let t=null,n="",i=!1;const s=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),t=null,n="",i=!i):i||o===t?n+=o:(n.length>0&&s.push({literal:/^\s+$/.test(n),val:n}),n=o,t=o)}return n.length>0&&s.push({literal:i||/^\s+$/.test(n),val:n}),s}static macroTokenToFormatOpts(e){return Zi[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return E(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(h,k)=>this.loc.extract(e,h,k),a=h=>e.isOffsetFixed&&e.offset===0&&h.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,h.format):"",o=()=>n?Li(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(h,k)=>n?Ri(e,h):s(k?{month:h}:{month:h,day:"numeric"},"month"),u=(h,k)=>n?Vi(e,h):s(k?{weekday:h}:{weekday:h,month:"long",day:"numeric"},"weekday"),d=h=>{const k=I.macroTokenToFormatOpts(h);return k?this.formatWithSystemDefault(e,k):h},f=h=>n?Wi(e,h):s({era:h},"era"),p=h=>{switch(h){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(h)}};return Wr(I.parseFormat(t),p)}formatDurationFromString(e,t){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>u=>{const d=n(u);return d?this.num(l.get(d),u.length):u},s=I.parseFormat(t),a=s.reduce((l,{literal:u,val:d})=>u?l:l.concat(d),[]),o=e.shiftTo(...a.map(n).filter(l=>l));return Wr(s,i(o))}}const zr=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function de(...r){const e=r.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function he(...r){return e=>r.reduce(([t,n,i],s)=>{const[a,o,l]=s(e,i);return[{...t,...a},o||n,l]},[{},null,1]).slice(0,2)}function me(r,...e){if(r==null)return[null,null];for(const[t,n]of e){const i=t.exec(r);if(i)return n(i)}return[null,null]}function Zr(...r){return(e,t)=>{const n={};let i;for(i=0;i<r.length;i++)n[r[i]]=te(e[t+i]);return[n,null,t+i]}}const Ur=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ui=`(?:${Ur.source}?(?:\\[(${zr.source})\\])?)?`,kt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Pr=RegExp(`${kt.source}${Ui}`),Ot=RegExp(`(?:T${Pr.source})?`),Pi=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,_i=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Gi=/(\d{4})-?(\d{3})/,Hi=Zr("weekYear","weekNumber","weekDay"),ji=Zr("year","ordinal"),Yi=/(\d{4})-(\d\d)-(\d\d)/,_r=RegExp(`${kt.source} ?(?:${Ur.source}|(${zr.source}))?`),qi=RegExp(`(?: ${_r.source})?`);function ye(r,e,t){const n=r[e];return y(n)?t:te(n)}function Ji(r,e){return[{year:ye(r,e),month:ye(r,e+1,1),day:ye(r,e+2,1)},null,e+3]}function ge(r,e){return[{hours:ye(r,e,0),minutes:ye(r,e+1,0),seconds:ye(r,e+2,0),milliseconds:pt(r[e+3])},null,e+4]}function Me(r,e){const t=!r[e]&&!r[e+1],n=Ge(r[e+1],r[e+2]),i=t?null:D.instance(n);return[{},i,e+3]}function Ie(r,e){const t=r[e]?Y.create(r[e]):null;return[{},t,e+1]}const Bi=RegExp(`^T?${kt.source}$`),Qi=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Ki(r){const[e,t,n,i,s,a,o,l,u]=r,d=e[0]==="-",f=l&&l[0]==="-",p=(h,k=!1)=>h!==void 0&&(k||h&&d)?-h:h;return[{years:p(ie(t)),months:p(ie(n)),weeks:p(ie(i)),days:p(ie(s)),hours:p(ie(a)),minutes:p(ie(o)),seconds:p(ie(l),l==="-0"),milliseconds:p(pt(u),f)}]}const Xi={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function bt(r,e,t,n,i,s,a){const o={year:e.length===2?St(te(e)):te(e),month:Ar.indexOf(t)+1,day:te(n),hour:te(i),minute:te(s)};return a&&(o.second=te(a)),r&&(o.weekday=r.length>3?Fr.indexOf(r)+1:$r.indexOf(r)+1),o}const es=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ts(r){const[,e,t,n,i,s,a,o,l,u,d,f]=r,p=bt(e,i,n,t,s,a,o);let h;return l?h=Xi[l]:u?h=0:h=Ge(d,f),[p,new D(h)]}function rs(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const ns=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,is=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ss=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Gr(r){const[,e,t,n,i,s,a,o]=r;return[bt(e,i,n,t,s,a,o),D.utcInstance]}function as(r){const[,e,t,n,i,s,a,o]=r;return[bt(e,o,t,n,i,s,a),D.utcInstance]}const os=de(Pi,Ot),ls=de(_i,Ot),us=de(Gi,Ot),cs=de(Pr),Hr=he(Ji,ge,Me,Ie),fs=he(Hi,ge,Me,Ie),ds=he(ji,ge,Me,Ie),hs=he(ge,Me,Ie);function ms(r){return me(r,[os,Hr],[ls,fs],[us,ds],[cs,hs])}function ys(r){return me(rs(r),[es,ts])}function gs(r){return me(r,[ns,Gr],[is,Gr],[ss,as])}function ws(r){return me(r,[Qi,Ki])}const ps=he(ge);function Ts(r){return me(r,[Bi,ps])}const Ss=de(Yi,qi),ks=de(_r),Os=he(ge,Me,Ie);function bs(r){return me(r,[Ss,Hr],[ks,Os])}const jr="Invalid Duration",Yr={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},xs={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Yr},F=146097/400,we=146097/4800,Es={years:{quarters:4,months:12,weeks:F/7,days:F,hours:F*24,minutes:F*24*60,seconds:F*24*60*60,milliseconds:F*24*60*60*1e3},quarters:{months:3,weeks:F/28,days:F/4,hours:F*24/4,minutes:F*24*60/4,seconds:F*24*60*60/4,milliseconds:F*24*60*60*1e3/4},months:{weeks:we/7,days:we,hours:we*24,minutes:we*24*60,seconds:we*24*60*60,milliseconds:we*24*60*60*1e3},...Yr},se=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ms=se.slice(0).reverse();function re(r,e,t=!1){const n={values:t?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy,matrix:e.matrix||r.matrix};return new w(n)}function qr(r,e){let t=e.milliseconds??0;for(const n of Ms.slice(1))e[n]&&(t+=e[n]*r[n].milliseconds);return t}function Jr(r,e){const t=qr(r,e)<0?-1:1;se.reduceRight((n,i)=>{if(y(e[i]))return n;if(n){const s=e[n]*t,a=r[i][n],o=Math.floor(s/a);e[i]+=o*t,e[n]-=o*a*t}return i},null),se.reduce((n,i)=>{if(y(e[i]))return n;if(n){const s=e[n]%1;e[n]-=s,e[i]+=s*r[n][i]}return i},null)}function Is(r){const e={};for(const[t,n]of Object.entries(r))n!==0&&(e[t]=n);return e}class w{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let n=t?Es:xs;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||S.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return w.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new M(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new w({values:He(e,w.normalizeUnit),loc:S.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(ee(e))return w.fromMillis(e);if(w.isDuration(e))return e;if(typeof e=="object")return w.fromObject(e);throw new M(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=ws(e);return n?w.fromObject(n,t):w.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=Ts(e);return n?w.fromObject(n,t):w.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new M("need to specify a reason the Duration is invalid");const n=e instanceof V?e:new V(e,t);if(b.throwOnInvalid)throw new Kn(n);return new w({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Wt(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?I.create(this.loc,n).formatDurationFromString(this,e):jr}toHuman(e={}){if(!this.isValid)return jr;const t=se.map(n=>{const i=this.values[n];return y(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Tt(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},g.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?qr(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=w.fromDurationLike(e),n={};for(const i of se)(ce(t.values,i)||ce(this.values,i))&&(n[i]=t.get(i)+this.get(i));return re(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=w.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=vr(e(this.values[n],n));return re(this,{values:t},!0)}get(e){return this[w.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...He(e,w.normalizeUnit)};return re(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:i}={}){const a={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:n};return re(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Jr(this.matrix,e),re(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Is(this.normalize().shiftToAll().toObject());return re(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>w.normalizeUnit(a));const t={},n={},i=this.toObject();let s;for(const a of se)if(e.indexOf(a)>=0){s=a;let o=0;for(const u in n)o+=this.matrix[u][a]*n[u],n[u]=0;ee(i[a])&&(o+=i[a]);const l=Math.trunc(o);t[a]=l,n[a]=(o*1e3-l*1e3)/1e3}else ee(i[a])&&(n[a]=i[a]);for(const a in n)n[a]!==0&&(t[s]+=a===s?n[a]:n[a]/this.matrix[s][a]);return Jr(this.matrix,t),re(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return re(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(const n of se)if(!t(this.values[n],e.values[n]))return!1;return!0}}const pe="Invalid Interval";function Ds(r,e){return!r||!r.isValid?x.invalid("missing or invalid start"):!e||!e.isValid?x.invalid("missing or invalid end"):e<r?x.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}class x{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new M("need to specify a reason the Interval is invalid");const n=e instanceof V?e:new V(e,t);if(b.throwOnInvalid)throw new Qn(n);return new x({invalid:n})}static fromDateTimes(e,t){const n=ve(e),i=ve(t),s=Ds(n,i);return s??new x({start:n,end:i})}static after(e,t){const n=w.fromDurationLike(t),i=ve(e);return x.fromDateTimes(i,i.plus(n))}static before(e,t){const n=w.fromDurationLike(t),i=ve(e);return x.fromDateTimes(i.minus(n),i)}static fromISO(e,t){const[n,i]=(e||"").split("/",2);if(n&&i){let s,a;try{s=g.fromISO(n,t),a=s.isValid}catch{a=!1}let o,l;try{o=g.fromISO(i,t),l=o.isValid}catch{l=!1}if(a&&l)return x.fromDateTimes(s,o);if(a){const u=w.fromISO(i,t);if(u.isValid)return x.after(s,u)}else if(l){const u=w.fromISO(n,t);if(u.isValid)return x.before(o,u)}}return x.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let i;return t!=null&&t.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(e,t),Math.floor(i.diff(n,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?x.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(ve).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),n=[];let{s:i}=this,s=0;for(;i<this.e;){const a=t[s]||this.e,o=+a>+this.e?this.e:a;n.push(x.fromDateTimes(i,o)),i=o,s+=1}return n}splitBy(e){const t=w.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,i=1,s;const a=[];for(;n<this.e;){const o=this.start.plus(t.mapUnits(l=>l*i));s=+o>+this.e?this.e:o,a.push(x.fromDateTimes(n,s)),n=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:x.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return x.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((l,u)=>l.time-u.time);for(const l of o)n+=l.type==="s"?1:-1,n===1?t=l.time:(t&&+t!=+l.time&&i.push(x.fromDateTimes(t,l.time)),t=null);return x.merge(i)}difference(...e){return x.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:pe}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Re,t={}){return this.isValid?I.create(this.s.loc.clone(t),e).formatInterval(this):pe}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:pe}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:pe}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:pe}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:pe}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):w.invalid(this.invalidReason)}mapEndpoints(e){return x.fromDateTimes(e(this.s),e(this.e))}}class Ye{static hasDST(e=b.defaultZone){const t=g.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Y.isValidZone(e)}static normalizeZone(e){return X(e,b.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||S.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||S.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||S.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||S.create(t,n,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||S.create(t,n,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||S.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||S.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return S.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return S.create(t,null,"gregory").eras(e)}static features(){return{relative:Er(),localeWeek:Mr()}}}function Br(r,e){const t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(r);return Math.floor(w.fromMillis(n).as("days"))}function Ns(r,e,t){const n=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const d=Br(l,u);return(d-d%7)/7}],["days",Br]],i={},s=r;let a,o;for(const[l,u]of n)t.indexOf(l)>=0&&(a=l,i[l]=u(r,e),o=s.plus(i),o>e?(i[l]--,r=s.plus(i),r>e&&(o=r,i[l]--,r=s.plus(i))):r=o);return[r,i,o,a]}function vs(r,e,t,n){let[i,s,a,o]=Ns(r,e,t);const l=e-i,u=t.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);u.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+l/(a-i)));const d=w.fromObject(s,n);return u.length>0?w.fromMillis(l,n).shiftTo(...u).plus(d):d}const As="missing Intl.DateTimeFormat.formatToParts support";function T(r,e=t=>t){return{regex:r,deser:([t])=>e(Si(t))}}const Qr="[  ]",Kr=new RegExp(Qr,"g");function Cs(r){return r.replace(/\./g,"\\.?").replace(Kr,Qr)}function Xr(r){return r.replace(/\./g,"").replace(Kr," ").toLowerCase()}function R(r,e){return r===null?null:{regex:RegExp(r.map(Cs).join("|")),deser:([t])=>r.findIndex(n=>Xr(t)===Xr(n))+e}}function en(r,e){return{regex:r,deser:([,t,n])=>Ge(t,n),groups:e}}function qe(r){return{regex:r,deser:([e])=>e}}function Fs(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function $s(r,e){const t=L(e),n=L(e,"{2}"),i=L(e,"{3}"),s=L(e,"{4}"),a=L(e,"{6}"),o=L(e,"{1,2}"),l=L(e,"{1,3}"),u=L(e,"{1,6}"),d=L(e,"{1,9}"),f=L(e,"{2,4}"),p=L(e,"{4,6}"),h=N=>({regex:RegExp(Fs(N.val)),deser:([U])=>U,literal:!0}),Z=(N=>{if(r.literal)return h(N);switch(N.val){case"G":return R(e.eras("short"),0);case"GG":return R(e.eras("long"),0);case"y":return T(u);case"yy":return T(f,St);case"yyyy":return T(s);case"yyyyy":return T(p);case"yyyyyy":return T(a);case"M":return T(o);case"MM":return T(n);case"MMM":return R(e.months("short",!0),1);case"MMMM":return R(e.months("long",!0),1);case"L":return T(o);case"LL":return T(n);case"LLL":return R(e.months("short",!1),1);case"LLLL":return R(e.months("long",!1),1);case"d":return T(o);case"dd":return T(n);case"o":return T(l);case"ooo":return T(i);case"HH":return T(n);case"H":return T(o);case"hh":return T(n);case"h":return T(o);case"mm":return T(n);case"m":return T(o);case"q":return T(o);case"qq":return T(n);case"s":return T(o);case"ss":return T(n);case"S":return T(l);case"SSS":return T(i);case"u":return qe(d);case"uu":return qe(o);case"uuu":return T(t);case"a":return R(e.meridiems(),0);case"kkkk":return T(s);case"kk":return T(f,St);case"W":return T(o);case"WW":return T(n);case"E":case"c":return T(t);case"EEE":return R(e.weekdays("short",!1),1);case"EEEE":return R(e.weekdays("long",!1),1);case"ccc":return R(e.weekdays("short",!0),1);case"cccc":return R(e.weekdays("long",!0),1);case"Z":case"ZZ":return en(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return en(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return qe(/[a-z_+-/]{1,256}?/i);case" ":return qe(/[^\S\n\r]/);default:return h(N)}})(r)||{invalidReason:As};return Z.token=r,Z}const Ls={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Vs(r,e,t){const{type:n,value:i}=r;if(n==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[n];let a=n;n==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=t.hour12?"hour12":"hour24");let o=Ls[a];if(typeof o=="object"&&(o=o[s]),o)return{literal:!1,val:o}}function Rs(r){return[`^${r.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,r]}function Ws(r,e,t){const n=r.match(e);if(n){const i={};let s=1;for(const a in t)if(ce(t,a)){const o=t[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(n.slice(s,s+l))),s+=l}return[n,i]}else return[n,{}]}function zs(r){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,n;return y(r.z)||(t=Y.create(r.z)),y(r.Z)||(t||(t=new D(r.Z)),n=r.Z),y(r.q)||(r.M=(r.q-1)*3+1),y(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),y(r.u)||(r.S=pt(r.u)),[Object.keys(r).reduce((s,a)=>{const o=e(a);return o&&(s[o]=r[a]),s},{}),t,n]}let xt=null;function Zs(){return xt||(xt=g.fromMillis(1555555555555)),xt}function Us(r,e){if(r.literal)return r;const t=I.macroTokenToFormatOpts(r.val),n=sn(t,e);return n==null||n.includes(void 0)?r:n}function tn(r,e){return Array.prototype.concat(...r.map(t=>Us(t,e)))}class rn{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=tn(I.parseFormat(t),e),this.units=this.tokens.map(n=>$s(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,i]=Rs(this.units);this.regex=RegExp(n,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[t,n]=Ws(e,this.regex,this.handlers),[i,s,a]=n?zs(n):[null,null,void 0];if(ce(n,"a")&&ce(n,"H"))throw new ue("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:n,result:i,zone:s,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function nn(r,e,t){return new rn(r,t).explainFromTokens(e)}function Ps(r,e,t){const{result:n,zone:i,specificOffset:s,invalidReason:a}=nn(r,e,t);return[n,i,s,a]}function sn(r,e){if(!r)return null;const n=I.create(e,r).dtFormatter(Zs()),i=n.formatToParts(),s=n.resolvedOptions();return i.map(a=>Vs(a,r,s))}const Et="Invalid DateTime",an=864e13;function De(r){return new V("unsupported zone",`the zone "${r.name}" is not supported`)}function Mt(r){return r.weekData===null&&(r.weekData=Ze(r.c)),r.weekData}function It(r){return r.localWeekData===null&&(r.localWeekData=Ze(r.c,r.loc.getMinDaysInFirstWeek(),r.loc.getStartOfWeek())),r.localWeekData}function ae(r,e){const t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new g({...t,...e,old:t})}function on(r,e,t){let n=r-e*60*1e3;const i=t.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;const s=t.offset(n);return i===s?[n,i]:[r-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Je(r,e){r+=e*60*1e3;const t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Be(r,e,t){return on(_e(r),e,t)}function ln(r,e){const t=r.o,n=r.c.year+Math.trunc(e.years),i=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...r.c,year:n,month:i,day:Math.min(r.c.day,Pe(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=w.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=_e(s);let[l,u]=on(o,t,r.zone);return a!==0&&(l+=a,u=r.zone.offset(l)),{ts:l,o:u}}function Te(r,e,t,n,i,s){const{setZone:a,zone:o}=t;if(r&&Object.keys(r).length!==0||e){const l=e||o,u=g.fromObject(r,{...t,zone:l,specificOffset:s});return a?u:u.setZone(o)}else return g.invalid(new V("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Qe(r,e,t=!0){return r.isValid?I.create(S.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function Dt(r,e){const t=r.c.year>9999||r.c.year<0;let n="";return t&&r.c.year>=0&&(n+="+"),n+=E(r.c.year,t?6:4),e?(n+="-",n+=E(r.c.month),n+="-",n+=E(r.c.day)):(n+=E(r.c.month),n+=E(r.c.day)),n}function un(r,e,t,n,i,s){let a=E(r.c.hour);return e?(a+=":",a+=E(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(a+=":")):a+=E(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(a+=E(r.c.second),(r.c.millisecond!==0||!n)&&(a+=".",a+=E(r.c.millisecond,3))),i&&(r.isOffsetFixed&&r.offset===0&&!s?a+="Z":r.o<0?(a+="-",a+=E(Math.trunc(-r.o/60)),a+=":",a+=E(Math.trunc(-r.o%60))):(a+="+",a+=E(Math.trunc(r.o/60)),a+=":",a+=E(Math.trunc(r.o%60)))),s&&(a+="["+r.zone.ianaName+"]"),a}const cn={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},_s={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Gs={ordinal:1,hour:0,minute:0,second:0,millisecond:0},fn=["year","month","day","hour","minute","second","millisecond"],Hs=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],js=["year","ordinal","hour","minute","second","millisecond"];function Ys(r){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new Wt(r);return e}function dn(r){switch(r.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Ys(r)}}function qs(r){if(Ne===void 0&&(Ne=b.now()),r.type!=="iana")return r.offset(Ne);const e=r.name;let t=Nt.get(e);return t===void 0&&(t=r.offset(Ne),Nt.set(e,t)),t}function hn(r,e){const t=X(e.zone,b.defaultZone);if(!t.isValid)return g.invalid(De(t));const n=S.fromObject(e);let i,s;if(y(r.year))i=b.now();else{for(const l of fn)y(r[l])&&(r[l]=cn[l]);const a=br(r)||xr(r);if(a)return g.invalid(a);const o=qs(t);[i,s]=Be(r,o,t)}return new g({ts:i,zone:t,loc:n,o:s})}function mn(r,e,t){const n=y(t.round)?!0:t.round,i=(a,o)=>(a=Tt(a,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(a,o)),s=a=>t.calendary?e.hasSame(r,a)?0:e.startOf(a).diff(r.startOf(a),a).get(a):e.diff(r,a).get(a);if(t.unit)return i(s(t.unit),t.unit);for(const a of t.units){const o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(r>e?-0:0,t.units[t.units.length-1])}function yn(r){let e={},t;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],t=Array.from(r).slice(0,r.length-1)):t=Array.from(r),[e,t]}let Ne;const Nt=new Map;class g{constructor(e){const t=e.zone||b.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new V("invalid input"):null)||(t.isValid?null:De(t));this.ts=y(e.ts)?b.now():e.ts;let i=null,s=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,s]=[e.old.c,e.old.o];else{const o=ee(e.o)&&!e.old?e.o:t.offset(this.ts);i=Je(this.ts,o),n=Number.isNaN(i.year)?new V("invalid input"):null,i=n?null:i,s=n?null:o}this._zone=t,this.loc=e.loc||S.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new g({})}static local(){const[e,t]=yn(arguments),[n,i,s,a,o,l,u]=t;return hn({year:n,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static utc(){const[e,t]=yn(arguments),[n,i,s,a,o,l,u]=t;return e.zone=D.utcInstance,hn({year:n,month:i,day:s,hour:a,minute:o,second:l,millisecond:u},e)}static fromJSDate(e,t={}){const n=Ei(e)?e.valueOf():NaN;if(Number.isNaN(n))return g.invalid("invalid input");const i=X(t.zone,b.defaultZone);return i.isValid?new g({ts:n,zone:i,loc:S.fromObject(t)}):g.invalid(De(i))}static fromMillis(e,t={}){if(ee(e))return e<-an||e>an?g.invalid("Timestamp out of range"):new g({ts:e,zone:X(t.zone,b.defaultZone),loc:S.fromObject(t)});throw new M(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(ee(e))return new g({ts:e*1e3,zone:X(t.zone,b.defaultZone),loc:S.fromObject(t)});throw new M("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const n=X(t.zone,b.defaultZone);if(!n.isValid)return g.invalid(De(n));const i=S.fromObject(t),s=He(e,dn),{minDaysInFirstWeek:a,startOfWeek:o}=Or(s,i),l=b.now(),u=y(t.specificOffset)?n.offset(l):t.specificOffset,d=!y(s.ordinal),f=!y(s.year),p=!y(s.month)||!y(s.day),h=f||p,k=s.weekYear||s.weekNumber;if((h||d)&&k)throw new ue("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&d)throw new ue("Can't mix ordinal dates with month/day");const Z=k||s.weekday&&!h;let N,U,oe=Je(l,u);Z?(N=Hs,U=_s,oe=Ze(oe,a,o)):d?(N=js,U=Gs,oe=gt(oe)):(N=fn,U=cn);let Ae=!1;for(const $e of N){const aa=s[$e];y(aa)?Ae?s[$e]=U[$e]:s[$e]=oe[$e]:Ae=!0}const le=Z?Oi(s,a,o):d?bi(s):br(s),P=le||xr(s);if(P)return g.invalid(P);const Ce=Z?Sr(s,a,o):d?kr(s):s,[At,Ct]=Be(Ce,u,n),Fe=new g({ts:At,zone:n,o:Ct,loc:i});return s.weekday&&h&&e.weekday!==Fe.weekday?g.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${Fe.toISO()}`):Fe.isValid?Fe:g.invalid(Fe.invalid)}static fromISO(e,t={}){const[n,i]=ms(e);return Te(n,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,i]=ys(e);return Te(n,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,i]=gs(e);return Te(n,i,t,"HTTP",t)}static fromFormat(e,t,n={}){if(y(e)||y(t))throw new M("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=n,a=S.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,l,u,d]=Ps(a,e,t);return d?g.invalid(d):Te(o,l,n,`format ${t}`,e,u)}static fromString(e,t,n={}){return g.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,i]=bs(e);return Te(n,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new M("need to specify a reason the DateTime is invalid");const n=e instanceof V?e:new V(e,t);if(b.throwOnInvalid)throw new Bn(n);return new g({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const n=sn(e,S.fromObject(t));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return tn(I.parseFormat(e),S.fromObject(t)).map(i=>i.val).join("")}static resetCache(){Ne=void 0,Nt.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Mt(this).weekYear:NaN}get weekNumber(){return this.isValid?Mt(this).weekNumber:NaN}get weekday(){return this.isValid?Mt(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?It(this).weekday:NaN}get localWeekNumber(){return this.isValid?It(this).weekNumber:NaN}get localWeekYear(){return this.isValid?It(this).weekYear:NaN}get ordinal(){return this.isValid?gt(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ye.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ye.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ye.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ye.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=_e(this.c),i=this.zone.offset(n-e),s=this.zone.offset(n+e),a=this.zone.offset(n-i*t),o=this.zone.offset(n-s*t);if(a===o)return[this];const l=n-a*t,u=n-o*t,d=Je(l,a),f=Je(u,o);return d.hour===f.hour&&d.minute===f.minute&&d.second===f.second&&d.millisecond===f.millisecond?[ae(this,{ts:l}),ae(this,{ts:u})]:[this]}get isInLeapYear(){return be(this.year)}get daysInMonth(){return Pe(this.year,this.month)}get daysInYear(){return this.isValid?fe(this.year):NaN}get weeksInWeekYear(){return this.isValid?xe(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?xe(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:n,calendar:i}=I.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(D.instance(e),t)}toLocal(){return this.setZone(b.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=X(e,b.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||n){const s=e.offset(this.ts),a=this.toObject();[i]=Be(a,s,e)}return ae(this,{ts:i,zone:e})}else return g.invalid(De(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){const i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return ae(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=He(e,dn),{minDaysInFirstWeek:n,startOfWeek:i}=Or(t,this.loc),s=!y(t.weekYear)||!y(t.weekNumber)||!y(t.weekday),a=!y(t.ordinal),o=!y(t.year),l=!y(t.month)||!y(t.day),u=o||l,d=t.weekYear||t.weekNumber;if((u||a)&&d)throw new ue("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new ue("Can't mix ordinal dates with month/day");let f;s?f=Sr({...Ze(this.c,n,i),...t},n,i):y(t.ordinal)?(f={...this.toObject(),...t},y(t.day)&&(f.day=Math.min(Pe(f.year,f.month),f.day))):f=kr({...gt(this.c),...t});const[p,h]=Be(f,this.o,this.zone);return ae(this,{ts:p,o:h})}plus(e){if(!this.isValid)return this;const t=w.fromDurationLike(e);return ae(this,ln(this,t))}minus(e){if(!this.isValid)return this;const t=w.fromDurationLike(e).negate();return ae(this,ln(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const n={},i=w.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(i==="weeks")if(t){const s=this.loc.getStartOfWeek(),{weekday:a}=this;a<s&&(n.weekNumber=this.weekNumber-1),n.weekday=s}else n.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);n.month=(s-1)*3+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?I.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Et}toLocaleString(e=Re,t={}){return this.isValid?I.create(this.loc.clone(t),e).formatDateTime(this):Et}toLocaleParts(e={}){return this.isValid?I.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let o=Dt(this,a);return o+="T",o+=un(this,a,t,n,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?Dt(this,e==="extended"):null}toISOWeekDate(){return Qe(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+un(this,a==="extended",t,e,n,s):null}toRFC2822(){return Qe(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Qe(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Dt(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(n&&(i+=" "),t?i+="z":e&&(i+="ZZ")),Qe(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Et}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return w.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...n},s=Mi(t).map(w.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,u=vs(o,l,s,i);return a?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(g.now(),e,t)}until(e){return this.isValid?x.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t,n)<=i&&i<=s.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||g.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),mn(t,this.plus(n),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?mn(e.base||g.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(g.isDateTime))throw new M("min requires all arguments be DateTimes");return Ir(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(g.isDateTime))throw new M("max requires all arguments be DateTimes");return Ir(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:i=null,numberingSystem:s=null}=n,a=S.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return nn(a,e,t)}static fromStringExplain(e,t,n={}){return g.fromFormatExplain(e,t,n)}static buildFormatParser(e,t={}){const{locale:n=null,numberingSystem:i=null}=t,s=S.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return new rn(s,e)}static fromFormatParser(e,t,n={}){if(y(e)||y(t))throw new M("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=n,a=S.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!a.equals(t.locale))throw new M(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${t.locale}`);const{result:o,zone:l,specificOffset:u,invalidReason:d}=t.explainFromTokens(e);return d?g.invalid(d):Te(o,l,n,`format ${t.format}`,e,u)}static get DATE_SHORT(){return Re}static get DATE_MED(){return zt}static get DATE_MED_WITH_WEEKDAY(){return Xn}static get DATE_FULL(){return Zt}static get DATE_HUGE(){return Ut}static get TIME_SIMPLE(){return Pt}static get TIME_WITH_SECONDS(){return _t}static get TIME_WITH_SHORT_OFFSET(){return Gt}static get TIME_WITH_LONG_OFFSET(){return Ht}static get TIME_24_SIMPLE(){return jt}static get TIME_24_WITH_SECONDS(){return Yt}static get TIME_24_WITH_SHORT_OFFSET(){return qt}static get TIME_24_WITH_LONG_OFFSET(){return Jt}static get DATETIME_SHORT(){return Bt}static get DATETIME_SHORT_WITH_SECONDS(){return Qt}static get DATETIME_MED(){return Kt}static get DATETIME_MED_WITH_SECONDS(){return Xt}static get DATETIME_MED_WITH_WEEKDAY(){return ei}static get DATETIME_FULL(){return er}static get DATETIME_FULL_WITH_SECONDS(){return tr}static get DATETIME_HUGE(){return rr}static get DATETIME_HUGE_WITH_SECONDS(){return nr}}function ve(r){if(g.isDateTime(r))return r;if(r&&r.valueOf&&ee(r.valueOf()))return g.fromJSDate(r);if(r&&typeof r=="object")return g.fromObject(r);throw new M(`Unknown datetime argument: ${r}, of type ${typeof r}`)}function Js(r,e,t,n){let i=r.astronomyJS;const s=i.getDate();let a,o;if(r.timezone){let P=g.fromJSDate(s).setZone(r.timezone);o=P.startOf("day").toJSDate(),a=P.hour*60+P.minute}else a=s.getHours()*60+s.getMinutes(),o=new Date(s.getFullYear(),s.getMonth(),s.getDate());const l=t?2e3:1e3,u=Bs(o),d=u.map((P,Ce)=>{const At=Ce/(u.length-1)*l,Ct=i.getAltAzCoordinatesForObject("Sun",P).latitude;return[At,gn(Ct,-90,90,950,50).toFixed(0)]}).map(([P,Ce])=>`${P},${Ce}`).join(" "),f=i.getAltAzCoordinatesForObject("Sun").latitude,p=gn(f,-90,90,950,50).toFixed(0),h=Rt(f),k=Qs(f),Z=Le(k.limit,h.limit,f),N=Ve(h.bottom,k.bottom,Z),U=f>0?1:f<-9?0:Le(-9,0,f),oe=f>-3?1:f<-9?0:Le(-9,-3,f),Ae=Ve("#808080","#ffffff",oe);let le=t?Cn(e,"black"):G(e,"black");return le+=`
        <rect x="0" y="500" width="${l}" height="500" fill="black" />
        <defs>
            <clipPath id="top-half-clip">
                <rect x="0" y="500" width="${l*2}" height="500" />
            </clipPath>
            <clipPath id="bottom-half-clip">
                <rect x="0" y="0" width="${l*2}" height="500" />
            </clipPath>
            <radialGradient id="sun-glow-${f}" cx="50%" cy="50%" r="75%" fx="50%" fy="50%">
                <stop offset="0%" stop-color="#ffffff" stop-opacity=" ${1*U}" />
                <stop offset="25%" stop-color="#ffffff" stop-opacity=" ${1*U}" />
                <stop offset="60%" stop-color="#ffffff" stop-opacity=" ${.1*U}" />
                <stop offset="100%" stop-color="#ffffff" stop-opacity="0" />
            </radialGradient>
            <radialGradient id="twilight-glow-${f}" cx="50%" cy="50%" r="75%" fx="50%" fy="50%">
                <stop offset="0%" stop-color="${N}" stop-opacity="0.5" />
                <stop offset="50%" stop-color="${N}" stop-opacity="0.15" />
                <stop offset="90%" stop-color="${N}" stop-opacity="0.1" />
                <stop offset="100%" stop-color="${N}" stop-opacity="0.0" />
            </radialGradient>
            <linearGradient id="sun-line-gradient-${f}" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="80%" stop-color="${Ae}" stop-opacity="1" />
                <stop offset="100%" stop-color="#808080" stop-opacity="1" />
            </linearGradient>
        </defs>
        <rect x="0" y="0" width="${l}" height="500" fill="url(#sky-${f})" />
        <ellipse cx="${vt(a,l)}" cy="${p}" rx="${1.2*l}" ry="125" fill="url(#twilight-glow-${f})" />
        <rect x="0" y="500" width="${l}" height="500" fill="black" />
        <polyline fill="none" stroke="url(#sun-line-gradient-${f})" stroke-width="35" points="${d}" clip-path="url(#top-half-clip)"/>
        <polyline fill="none" stroke="url(#sun-line-gradient-${f})" stroke-width="35" points="${d}" clip-path="url(#bottom-half-clip)"/>
        <line x1="0" y1="500" x2="${l}" y2="500" stroke="${Ae}" stroke-width="15" />
        <circle cx="${vt(a,l)}"
            cy="${p}" r="50" stroke="#808080" stroke-width="20" clip-path="url(#top-half-clip)" />
        <circle cx="${vt(a,l)}"
            cy="${p}" r="150" fill="url(#sun-glow-${f})" clip-path="url(#bottom-half-clip)" />
           `,le+=tt(f),n&&(le+=Hn(s.toLocaleTimeString(r.locale??void 0,{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}}))),le+=H(),le}function Bs(r){const e=[];for(let t=0;t<48;t++){const n=new Date(r.getTime()+t*30*60*1e3);e.push(n)}return e}function gn(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function vt(r,e){return r/1440*e}function Qs(r){return r<=-18?{top:"#0b0c1a",bottom:"#101734",limit:-90}:r<=-15?{top:"#171c27",bottom:"#282e3c",limit:-18}:r<=-12?{top:"#171c29",bottom:"#525662",limit:-15}:r<=-9?{top:"#4e545f",bottom:"#b9a76c",limit:-12}:r<=-6?{top:"#909798",bottom:"#f9d92b",limit:-9}:r<=-3?{top:"#b6d8ed",bottom:"#f6da3f",limit:-6}:r<=0?{top:"#bcd6fc",bottom:"#98d5fc",limit:-3}:{top:"#cce8fd",bottom:"#98d5fc",limit:0}}function Ks(r,e,t){let n=r.astronomyJS,i=n.getEphemerisDateForObject(e,n.getDate(),"RISE"),s=G(t,"black");return s+=j(e),s+=B("Rise"),s+=Q(i.toLocaleTimeString(r.locale??void 0,{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}})),s+=H(),s}function Xs(r,e,t){let n=r.astronomyJS,i=n.getEphemerisDateForObject(e,n.getDate(),"SET"),s=G(t,"black");return s+=j(e),s+=B("Set"),s+=Q(i.toLocaleTimeString(r.locale??void 0,{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}})),s+=H(),s}function ea(r,e,t){let n=r.astronomyJS,i=n.getAltAzCoordinatesForObject(e),s=G(t,"black");if(i.latitude<0){s+=j(e,!0);let a=n.getEphemerisDateForObject(e,n.getDate(),"RISE");s+=B("Visible at"),s+=Q(a.toLocaleTimeString(r.locale??void 0,{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}}))}else{let a=n.getAltAzCoordinatesForObject(e,new Date(n.getDate()-3e5)).latitude;s+=B($t(i.latitude,a)),s+=Q(Lt(i.longitude)),s+=j(e)}return s+=H(),s}function ta(r,e,t,n){let i=r.astronomyJS,s=i.getAltAzCoordinatesForObject("Sun").latitude,a=i.getAltAzCoordinatesForObject(e),o=G(t,"black");if(a.latitude<0){o+=j(e,!0);let l=i.getEphemerisDateForObject(e,i.getDate(),"RISE");o+=B("Visible at"),o+=Q(l.toLocaleTimeString(r.locale??void 0,{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}}))}else{let l=380,u=500,d=520,f=l*(1-a.latitude/90),p=(a.longitude-90)*(Math.PI/180),h=u+f*Math.cos(p),k=d+f*Math.sin(p);o+=`<rect x="0" y="0" width="1000" height="1000" fill="url(#sky-${s})" />`,n!==void 0&&n!==0?o+=`
            <g fill="white" font-size="70" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
            <text x="${u}" y="${d-l-60}">${n}</text>
          </g>
          <g transform="rotate(${360-n} ${u} ${d})">
        `:o+="<g>",o+=`
          <circle cx="${u}" cy="${d}" r="${l}" fill="none" stroke="white" stroke-width="15" />
          <circle cx="${u}" cy="${d}" r="${l/2}" fill="none" stroke="white" stroke-width="8" />
          <g fill="white" font-size="70" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
            <text x="${u}" y="${d-l-60}">N</text>
          </g>
        `,o+=`<g transform="translate(${h-500}, ${k-279})
                translate(500, 279) scale(0.3) translate(-500, -279)">`,o+=j(e),o+="</g></g>"}return o+=tt(s),o+=H(),o}function ra(r,e,t,n){let i=r.astronomyJS,s=i.getAltAzCoordinatesForObject("Sun").latitude,a=G(t,"black"),o=380,l=500,u=520;a+=`<rect x="0" y="0" width="1000" height="1000" fill="url(#sky-${s})" />`,n!==void 0&&n!==0?a+=`
          <g fill="white" font-size="70" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
          <text x="${l}" y="${u-o-60}">${n}</text>
        </g>
        <g transform="rotate(${360-n} ${l} ${u})">
      `:a+="<g>",a+=`
        <circle cx="${l}" cy="${u}" r="${o}" fill="none" stroke="white" stroke-width="15" />
        <circle cx="${l}" cy="${u}" r="${o/2}" fill="none" stroke="white" stroke-width="8" />
        <g fill="white" font-size="70" font-family="sans-serif" text-anchor="middle" dominant-baseline="middle">
          <text x="${l}" y="${u-o-60}">N</text>
        </g>
      `;for(let d of e){let f=i.getAltAzCoordinatesForObject(d);if(f.latitude<0)continue;let p=o*(1-f.latitude/90),h=(f.longitude-90)*(Math.PI/180),k=l+p*Math.cos(h),Z=u+p*Math.sin(h);a+=`<g transform="translate(${k-500}, ${Z-279})
              translate(500, 279) scale(0.3) translate(-500, -279)">`,a+=j(d),a+="</g>"}return a+="</g>",a+=tt(s),a+=H(),a}function na(r,e){const n=r.astronomyJS.getDate();let i=G(e,"black");return i+=ia(r),i+=B(n.toLocaleDateString(r.locale??void 0,{year:"numeric",month:"2-digit",day:"2-digit",...r.timezone?{timeZone:r.timezone}:{}})),i+=Q(n.toLocaleTimeString(r.locale??void 0,{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}})),i+=H(),i}function ia(r){let n=r.astronomyJS.getDate().toLocaleTimeString(r.locale??void 0,{hour:"2-digit",minute:"2-digit",hour12:!1,...r.timezone?{timeZone:r.timezone}:{}}),i=(parseInt(n.split(":")[0])%12+n.split(":")[1]/60)*30,s=parseInt(n.split(":")[1])*6,a=`<!-- Clock circle -->
    <circle cx="500" cy="278" r="180" stroke="#fff" stroke-width="4" />
    <g transform="rotate(${i}, 500, 278)">
    <line id="hour-hand" x1="500" y1="278" x2="500" y2="188" stroke="#fff" stroke-width="15" stroke-linecap="round" />
    </g>
    <g transform="rotate(${s}, 500, 278)">
    <line id="minute-hand" x1="500" y1="278" x2="500" y2="138" stroke="#fff" stroke-width="12" stroke-linecap="round" />
    </g>
    <circle cx="500" cy="278" r="10" fill="#fff" />`;for(let o=0;o<12;o++){const l=o*30;a+=`
    <g transform="rotate(${l}, 500, 278)">
      <line x1="500" y1="98" x2="500" y2="118" stroke="#fff" stroke-width="6" />
    </g>
  `}return a}class Ke{constructor(){wn(this,"applicationContext",{astronomyJS:null,locale:null,timezone:null});this.applicationContext.astronomyJS=new Xe}getDate(){return this.applicationContext.astronomyJS.getDate()}setDate(e){this.applicationContext.astronomyJS.setDate(e)}setLocale(e){this.applicationContext.locale=e}setTimezone(e){this.applicationContext.timezone=e}setLocation(e,t){this.applicationContext.astronomyJS.setLocation("Earth",e,t,0)}getLocation(){return this.applicationContext.astronomyJS.getLatitudeLongitudeCoordinates()}static initialize(e,t){let n=new Ke;return n.setDate(new Date),n.setLocation(e,t),n}drawAzimuth(e,t){return jn(this.applicationContext,e,t)}drawAltitude(e,t){return Yn(this.applicationContext,e,t)}drawSunAltitudePath(e,t,n=!1){return Js(this.applicationContext,e,t,n)}drawCelestialBodyRiseTime(e,t){return Ks(this.applicationContext,e,t)}drawCelestialBodySettingTime(e,t){return Xs(this.applicationContext,e,t)}drawCelestialBodyVisibility(e,t){return ea(this.applicationContext,e,t)}drawCurrentTime(e){return na(this.applicationContext,e)}drawCelestialBodyVisibilityMap(e,t,n){return ta(this.applicationContext,e,t,n)}drawMultiCelestialBodyVisibilityMap(e,t,n){return ra(this.applicationContext,e,t,n)}}function sa(r,e){return Ke.initialize(r,e)}return W.AstronomySVG=Ke,W.initialize=sa,Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),W}({});
